"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50552],{762587:e=>{e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;s&&"number"==typeof s.maxKeys&&(a=s.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var r=0;r<l;++r){var c,d,u,_,h=e[r].replace(o,"%20"),p=h.indexOf(n);(p>=0?(c=h.substr(0,p),d=h.substr(p+1)):(c=h,d=""),u=decodeURIComponent(c),_=decodeURIComponent(d),Object.prototype.hasOwnProperty.call(i,u))?Array.isArray(i[u])?i[u].push(_):i[u]=[i[u],_]:i[u]=_}return i}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,s,i){return(n=n||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(i){var o=encodeURIComponent(t(i))+s;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(t(e))}).join(n):o+encodeURIComponent(t(e[i]))}).join(n):i?encodeURIComponent(t(i))+s+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},17314:(e,t,n)=>{n.d(t,{Z:()=>c});var s,i,o=n(813653),a=n(861470),l=0,r=0;let c=function(e,t,n){var c=t&&n||0,d=t||Array(16),u=(e=e||{}).node||s,_=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==_){var h=e.random||(e.rng||o.Z)();null==u&&(u=s=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=i=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:r+1,g=p-l+(m-r)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,r=m,i=_;var f=((268435455&(p+=122192928e5))*1e4+m)%4294967296;d[c++]=f>>>24&255,d[c++]=f>>>16&255,d[c++]=f>>>8&255,d[c++]=255&f;var v=p/4294967296*1e4&268435455;d[c++]=v>>>8&255,d[c++]=255&v,d[c++]=v>>>24&15|16,d[c++]=v>>>16&255,d[c++]=_>>>8|128,d[c++]=255&_;for(var b=0;b<6;++b)d[c+b]=u[b];return t||(0,a.Z)(d)}},395980:(e,t,n)=>{var s,i;n.r(t),n.d(t,{default:()=>a});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="ba7787ee8344e34b151f6a5f633c4170";let a=o},499041:(e,t,n)=>{n.d(t,{b:()=>r,t:()=>l});var s=n(667294),i=n(342513),o=n(785893);let{Provider:a,useHook:l}=(0,i.Z)("LensContext");function r({children:e}){let[t,n]=(0,s.useState)(),[i,l]=(0,s.useState)(),[r,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(),[_,h]=(0,s.useState)(),[p,m]=(0,s.useState)(!1);return(0,o.jsx)(a,{value:{heroImageUrl:i,historyData:r,image:t,imageData:_,isLensModalOpen:p,setHeroImageUrl:l,setHistoryData:c,setImage:n,setImageData:h,setIsLensModalOpen:m,setUpdatedCropArea:u,updatedCropArea:d},children:e})}},801904:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(616550),i=n(883119),o=n(205841),a=n(741983),l=n(550124),r=n(785893);let c=({account:e})=>(0,r.jsx)(i.xv,{color:"default",size:"300",weight:"bold",children:e.name}),d=({account:e})=>(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(i.xv,{size:"100",children:e.ownerFullName}),(0,r.jsx)(i.xv,{color:"default",size:"300",weight:"bold",children:e.name})]}),u=({account:e})=>{let t;let n=(0,s.TH)(),u=(0,a.Ni)(n),_=(0,a.HV)(n);switch((0,l.Z)()){case 3:case 4:t=(0,r.jsx)(d,{account:e});break;default:t=u||_?(0,r.jsx)(c,{account:e}):(0,r.jsx)(d,{account:e})}return(0,r.jsxs)(i.kC,{alignItems:"center",children:[(0,r.jsx)(i.xu,{"aria-hidden":!0,padding:2,children:(0,r.jsx)(o.qE,{name:e.name,size:"sm",src:e.ownerImg})}),t]})}},354500:(e,t,n)=>{n.d(t,{Oz:()=>s,mo:()=>a,nt:()=>o,v8:()=>i});let s={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},i="BUSINESS_PANEL",o="ASSET_PANEL",a=500},106622:(e,t,n)=>{n.d(t,{r:()=>v,K:()=>g});var s=n(667294),i=n(372085),o=n(783122);let a=async(e,t)=>{let{statsLog:n}=(0,o.t)();try{let s=new Date,o=await (0,i.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),a=new Date;return n&&(n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",a.getTime()-s.getTime(),t)),o.resource_response.data}catch(e){throw n&&n.failure("getMultipleBizEntityProperties",t),e}},l=async(e,t,n="PUT")=>{let{statsLog:s}=(0,o.t)();try{let o=new Date,a=await (0,i.Z)({url:"/ads/v4/business_entities",data:e,method:n}),l=new Date;return s&&(s.success("setMultipleBizEntityPropertiesFullUpdate",t),s.latency("setMultipleBizEntityPropertiesFullUpdate",l.getTime()-o.getTime(),t)),a.resource_response.data}catch(e){throw s&&s.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var r=n(342513),c=n(976731),d=n(288673),u=n(340523),_=n(149722),h=n(953565),p=n(785893);let{Provider:m,useHook:g}=(0,r.Z)("CustomShortcutsContext"),f=()=>Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]),v=({children:e})=>{let t=(0,_.Z)(),n=(0,u.F)(),[i,o]=(0,s.useState)({}),r=(0,s.useCallback)(async()=>{let{anyEnabled:e}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:s}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),i=!!t.isAuth,l=!!t.isAuth&&t.isPartner,r=f().every(e=>!window.location.href?.includes(e));if(e&&i&&l&&!t.isLimitedLogin&&r)try{let e;e=s?a:d.FO;let n=(await e([{entity_id:t.id,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(n&&n.properties))return;let i=n.properties.NAVBAR_CONFIG;o(i?.customShortcuts||{})}catch(e){(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}})}},[t.isAuth,t.id,t.isPartner,t.isLimitedLogin,n]),g=(e,t)=>({entity_id:e,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}}),v=(0,s.useCallback)(async e=>{let{anyEnabled:s}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:i}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!(t.isAuth&&s))return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:"Auth_Error"}}),{error:"Auth_Error"};try{let n;n=i?l:d.VW;let s=g(t.id,e);return await n([s]),r(),{error:null}}catch(e){return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}}),{error:"Upsert_Error"}}},[t.isAuth,t.id,n,r]);(0,s.useEffect)(()=>{r()},[r]);let b=(0,s.useMemo)(()=>({shortcuts:i,upsertShortcuts:v}),[i,v]);return(0,p.jsx)(m,{value:b,children:e})}},684334:(e,t,n)=>{n.r(t),n.d(t,{SOS_ADMIN_HEADER_HEIGHT:()=>w,SOS_ADMIN_PERMISSION_TYPE:()=>C,SOS_INVALID_PERMISSION_TYPE:()=>A,SOS_READ_ONLY_PERMISSIN_TYPE:()=>P,default:()=>S});var s=n(667294),i=n(616550),o=n(693967),a=n.n(o),l=n(883119),r=n(135987),c=n(801904),d=n(288673),u=n(930837),_=n(454514),h=n(13848),p=n(785893);function m({onCancel:e,i18n:t,selectedAccount:n,actingBusiness:i,ldap:o}){let[a,r]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),b=(0,h.F9)(),y=t._('Request read-write access', '[m10n]billing.sos.RequestAdminAccessModal.Heading', '[m10n]title of dialog window for requesting sos admin access');function x(e,t,n){b.showOneToast(({hideToast:s})=>(0,p.jsx)(_.ZP,{duration:e,onHide:s,text:n,type:t}))}async function w(){if(a&&m){let n={ldap:o||"",sos_user_type:"1",business_owner_id:i?.id||"",duration:a,justification:m},s=await (0,d.wV)(n),l=!1;s&&"success"===s.status&&s.data&&(s.data.success?("3"===a?x(5e3,"success",t._('Your 3 day access was approved', '[m10n]billing.sos.RequestAdminAccessModal.threeDayAccess.success', '[m10n]toast message when successfully submitting a 3 day access request')):x(8e3,"success",t._('Your 90 days access was requested and will be reviewed within 24 hours', '[m10n]billing.sos.RequestAdminAccessModal.ninetyDayAccess.success', '[m10n]toast message when successfully submitting a 90 day access request')),l=!0):s.data.error_message&&s.data.error_message.startsWith("there are already one or more open requests")&&(x(5e3,"error",t._('An open request was already submitted', '[m10n]billing.sos.RequestAdminAccessModal.duplicateRequestFailure', '[m10n]toast message when duplicate sos access request fails')),l=!0)),l||x(8e3,"error",t._('Something went wrong when submitting the access request', '[m10n]billing.sos.RequestAdminAccessModal.generalFailureMessage', '[m10n]general message when submitting the sos access request fails')),e()}else a?v(t._('Please provide a reason for requesting read-write access', '[m10n]billing.sos.RequestAdminAccessModal.MissingAccessReason', '[m10n]Reminder to specify the reason for requesting read-write access')):v(t._('Please choose the access duration', '[m10n]billing.sos.RequestAdminAccessModal.MissingAccessDuration', '[m10n]Reminder to choose length of permission to apply for'))}return(0,p.jsx)(l.xu,{height:"100%",children:(0,p.jsxs)(u.ZP,{accessibilityModalLabel:"Choose admin access duration",align:"start",footer:(0,p.jsxs)(l.xu,{children:[f&&(0,p.jsx)(l.xu,{marginBottom:3,children:(0,p.jsx)(l.kC,{justifyContent:"end",children:(0,p.jsx)(l.xv,{color:"error",size:"200",children:f})})}),(0,p.jsxs)(l.kC,{gap:2,justifyContent:"end",children:[(0,p.jsx)(l.zx,{color:"gray",onClick:e,text:t._('Go back', '[m10n]billing.sos.RequestAdminAccessModal.GoBackButton', '[m10n]Button to cancel the modal and get back to the page')}),(0,p.jsx)(l.zx,{color:"red",onClick:()=>w(),text:t._('Request access', '[m10n]billing.sos.RequestAdminAccessModal.RequestButton', '[m10n]Button to request sos admin access')})]})]}),heading:(0,p.jsxs)(l.kC,{justifyContent:"between",children:[(0,p.jsx)(l.X6,{accessibilityLevel:1,size:"500",children:y}),(0,p.jsx)(l.hU,{accessibilityLabel:"Dismiss sos request read-write access modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})]}),onDismiss:e,size:"sm",children:[n&&(0,p.jsx)(l.xu,{marginStart:4,children:(0,p.jsx)(c.Z,{account:n,business:i})}),(0,p.jsxs)(l.xu,{padding:6,children:[(0,p.jsxs)(l.FX,{id:"access-duration-option",legend:t._('How long do you need access?', '[m10n]billing.sos.RequestAdminAccessModal.AskForDuration', '[m10n]Text to ask users to input permission duration to apply for'),children:[(0,p.jsx)(l.FX.RadioButton,{checked:"3"===a,helperText:t._('3 days: instant access', '[m10n]billing.sos.RequestAdminAccessModal.RadioGroupItem.shortAccessOption', '[m10n]Radio group item to request short sos admin access'),id:"shortAccessOption",label:t._('Instant approval that will auto-expire', '[m10n]billing.sos.RequestAdminAccessModal.RadioGroupLabel.shortAccessOption', '[m10n]Lable of radio group item to request short sos admin access'),onChange:()=>r("3"),value:"3"}),(0,p.jsx)(l.FX.RadioButton,{checked:"90"===a,helperText:t._('90 days: need approval', '[m10n]billing.sos.RequestAdminAccessModal.RadioGroupItem.longAccessOption', '[m10n]Radio group item to request long sos admin access'),id:"longAccessOption",label:t._('Ticket is created for manual review for long-term access', '[m10n]billing.sos.RequestAdminAccessModal.RadioGroupLabel.longAccessOption', '[m10n]Label of radio group item to request long sos admin access'),onChange:()=>r("90"),value:"90"})]}),(0,p.jsxs)(l.xu,{marginTop:6,children:[(0,p.jsx)(l.xu,{marginBottom:4,children:(0,p.jsx)(l.xv,{weight:"bold",children:t._('Please provide a reason for requesting read-write access', '[m10n]billing.sos.RequestAdminAccessModal.AskForRequestReason', '[m10n]Text to ask users to input the reason for the request')})}),(0,p.jsx)(l.Kx,{id:"aboutme",labelDisplay:"hidden",onChange:e=>g(e.value),placeholder:t._('Please provide here', '[m10n]billing.sos.RequestAdminAccessModal.RequestReasonPlaceholder', '[m10n]Placeholder of textarea to request reasons for requesting sos admin access'),value:m})]})]})]})})}var g=n(700280),f=n(140017),v=n(339001),b=n(702497),y=n(483169),x=n(454051);let w=40,A="0",C="1",P="2";function S({currentSite:e}){let t;let n=(0,g.u)(),{adminPermissionType:o}=(0,y._)(),c=(0,i.TH)(),d=(0,s.createRef)(),{advertiser:u,is_sterling_on_steroids:_,user:h,sterling_on_steroids_ldap:A}=n,S=_&&h&&h.is_partner,E=(0,x.HF)(),k=(0,x.Kn)({redirect:(0,x.HF)()}),I=(0,x.Kn)();"STERLING"!==e&&(k=b.auO+k,I=b.auO+I);let L=c.pathname===E,[j,T]=(0,s.useState)(!1),[Z,O]=(0,s.useState)(!1),R=(0,f.ZP)(),z=R._(': Viewing as {{name}}', '[m10n]adminMode.impersonationLabel.sosV3', 'Admin Mode header telling the advertiser being impersonated. name: the name of the advertiser');t=o===C?"#e60023":"#111111";let{selectedAccount:M,actingBusiness:N}=(0,r.d9)();return(0,s.useEffect)(()=>{M&&N&&!L&&T(o===P)},[M,N,o,L]),(0,p.jsx)(s.Fragment,{children:(0,p.jsx)(l.xu,{ref:d,dangerouslySetInlineStyle:{__style:{backgroundColor:t}},children:(0,p.jsx)(l.xu,{children:(0,p.jsx)("div",{className:a()({SosAdminHeaderBackground:S}),children:(0,p.jsx)(l.xu,{"data-test-id":"admin-header",paddingX:3,paddingY:1,children:(0,p.jsxs)(l.xu,{alignItems:"center","aria-label":R._('Primary navigation header', '[m10n]proPartnerHeader.label', 'Accessibility label for the Pro Partner Header'),column:12,display:"flex",height:w,role:"navigation",children:[(0,p.jsx)(l.xu,{marginStart:2,children:(0,p.jsxs)(l.kC,{alignItems:"center",dataTestId:"user-label",justifyContent:"start",children:[(0,p.jsx)(l.xu,{marginStart:4,children:(0,p.jsxs)(l.kC,{alignItems:"center",children:[(0,p.jsx)(l.xu,{marginEnd:2,children:(0,p.jsx)(l.JO,{accessibilityLabel:"SoS admin header overview",color:"light",icon:"overview",size:"22"})}),(0,p.jsx)(l.xu,{marginEnd:1,children:(0,p.jsx)(l.xv,{color:"light",weight:"bold",children:R._('SoS Admin', '[m10n]adminMode.sosAdminLabel.sosV3', 'Admin Mode (SoS) header telling the user is now in SoS mode')})}),!L&&(0,p.jsx)(l.xv,{color:"light",children:(0,v.nk)(z,{name:u?u.name:h.full_name})})]})}),o===P&&!L&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#e7e7e7"}},margin:2,rounding:1,children:(0,p.jsx)(l.xu,{margin:1,children:(0,p.jsx)(l.xv,{children:R._('Read-only', '[m10n]adminMode.sosAdminLabel.sosV3.readOnlyAccess', 'Admin Mode (SoS) header telling the user is now in read-only mode')})})}),o===C&&!L&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#e7e7e7"}},margin:2,rounding:1,children:(0,p.jsx)(l.xu,{margin:1,children:(0,p.jsx)(l.xv,{children:R._('Read-write access', '[m10n]adminMode.sosAdminLabel.sosV3.readWriteAccess', 'Admin Mode (SoS) header telling the user is now in read-write mode')})})})]})}),(0,p.jsx)(l.xu,{marginStart:"auto",children:(0,p.jsx)(l.xu,{marginEnd:6,children:(0,p.jsxs)(l.kC,{alignItems:"center",children:[!L&&(0,p.jsx)(l.xu,{marginEnd:2,marginStart:2,children:(0,p.jsx)(l.rU,{href:k,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,p.jsx)(l.zx,{size:"sm",text:R._('Admin dashboard', '[m10n]billing.sos.SosAdminHeader.DashboardButton', '[m10n]Button to get to sos admin dashboard')})})}),j&&(0,p.jsx)(l.xu,{marginEnd:2,marginStart:2,children:(0,p.jsx)(l.zx,{color:"red",onClick:()=>O(!0),size:"sm",text:R._('Request read-write access', '[m10n]billing.sos.SosAdminHeader.RequestAdminAccessButton', '[m10n]Button to request sos admin access')})}),Z&&(0,p.jsx)(m,{actingBusiness:N,i18n:R,ldap:A,onCancel:()=>O(!1),selectedAccount:M}),(0,p.jsx)(l.xu,{marginStart:L?2:0,children:(0,p.jsx)(l.rU,{href:I,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,p.jsx)(l.hU,{accessibilityLabel:"Exit Admin Icon",icon:"cancel",iconColor:"white",size:"xs",tooltip:{accessibilityLabel:"So",text:R._('Exit admin mode', '[m10n]adminMode.exitAdminMode.sosV3', 'Exit admin mode'),zIndex:new l.H3([new l.Ry(671)])}})})})]})})})]})})})})})})}},334589:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},3808:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(616550),o=n(741983),a=n(340523),l=n(5859),r=n(149722),c=n(408998),d=n(995026);function u(){let e=(0,r.Z)(),t=(0,a.F)(),{isRTL:n}=(0,l.B)(),u=(0,i.TH)(),_=(0,i.k6)(),h=u.search;return(0,s.useEffect)(()=>{h.includes("enable_vertical_nav")&&((0,c.M)(),_.push("/"),window.location.reload())},[h,_]),(0,d.Z)(u)&&!n&&e.isAuth&&!e.isPartner&&!(0,o.OK)(u)&&t.checkExperiment("web_vertical_nav").anyEnabled}},214274:(e,t,n)=>{n.d(t,{Z:()=>s});let s='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},422317:(e,t,n)=>{n.d(t,{Z:()=>eg});var s=n(667294),i=n(616550),o=n(883119),a=n(3808),l=n(342513),r=n(510989),c=n(608516),d=n(785893);let u=(0,s.lazy)(()=>n.e(79337).then(n.bind(n,879337))),{Provider:_}=(0,l.Z)("LinkedBusinessAccountConfirmationModal");function h({children:e,onDismiss:t}){let[n,i]=(0,s.useState)(!1),o=(0,s.useMemo)(()=>({showLinkedBusinessAccountConfirmationModal:()=>{i(!0)}}),[]);return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(_,{value:o,children:e}),n&&(0,d.jsx)(r.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,d.jsx)(c.Z,{children:(0,d.jsx)(u,{onDismiss:()=>{i(!1),t()}})})})]})}var p=n(619370),m=n(140017),g=n(339001);let f=()=>{let e=(0,m.ZP)();return(0,d.jsx)(o.he,{iconAccessibilityLabel:e._('Info message', 'header.accountsOptionsMenu.info.icon', 'ally label for the info icon on a Gestalt SlimBanner'),message:(0,d.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,g.nk)(e._('Business Access {{ isNow }} Business Manager {{ restOfMsg }}', 'header.accountsOptionsMenu.newEntryPtBold', 'Message informing of change in menu item. isNow: english words "is now" but not in bold, restOfMsg: rest of message but not in bold'),{isNow:(0,d.jsx)(o.xv,{inline:!0,children:e._('is now', 'header.accountsOptionsMenu.newEntryPtIsNow', 'Message informing of change in menu item')}),restOfMsg:(0,d.jsx)(o.xv,{inline:!0,children:e._('and can now be found in the Business drop-down menu.', 'header.accountsOptionsMenu.newEntryPtRestOfMsg', 'Message informing of change in menu item')})})}),type:"info"})};var v=n(214877),b=n(515278),y=n(654960),x=n(434593);function w(){let e=(0,m.ZP)();return{addAccount:{value:"add-account",label:e._('Add account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Home feed tuner', 'header.accountsOptionsMenu.homefeedTuner.label', 'menu item linking to home feed editor')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}var A=n(991326),C=n(404891),P=n(610954),S=n(42068),E=n(340523),k=n(757640),I=n(702497),L=n(858128),j=n(149722),T=n(29156),Z=n(587703),O=n(805783),R=n(308548),z=n(427514),M=n(286318);let N=["chrome","windows"];var D=n(961550),B=n(408998),U=n(930837);let F=(0,n(832853).Z)(()=>n.e(73669).then(n.bind(n,984471)),void 0,"app-www-ReportBug-ReportBug"),{Provider:H,useHook:V}=(0,l.Z)("reportBugModalContext");function q({children:e}){let t=(0,m.ZP)(),[n,i]=(0,s.useState)(!1),o=(0,j.Z)(),a=(0,s.useCallback)(()=>{i(!0)},[]),l=(0,s.useMemo)(()=>({handleShowReportBugModal:a}),[a]);return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(H,{value:l,children:e}),n&&o.isAuth&&(0,d.jsx)(U.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{i(!1)},children:(0,d.jsx)(r.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,d.jsx)(F,{onDismiss:()=>{i(!1)},username:o.username})})})]})}var G=n(953565);function W({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let i=(0,m.ZP)();return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(o.xu,{marginTop:4,children:(0,d.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,text:i._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account')})}),(0,d.jsx)(o.xu,{marginTop:3,children:(0,d.jsx)(o.zx,{fullWidth:!0,onClick:()=>n(e.id),text:i._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it')})})]})}var $=n(406893),K=n(598228),Y=n(222881),X=n(589564);function J({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:l,showAdsSupportOption:r,isWwwSite:c,isPersistentArrUpsellEnabled:u}){let _=(0,j.Z)(),h=(0,m.ZP)(),{failedAccount:p,fetchedUserAccounts:g,handleAccountRepClick:U,handleLinkedAccountSwitch:F,handleReauthAccount:H,handleRemoveUnauthAccount:q}=(0,C.Z)(t,c),J=w(),Q=g.find(e=>e.id===(_.isAuth&&_.id)),ee=_.isAuth&&_.partner?.is_linked_business,et=(0,a.Z)(),{yourAccount:en,moreOptions:es}=function({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:a,isPersistentArrUpsellEnabled:l,isVerticalNavEnabled:r}){let{id:c,isAuth:u,isEmployee:_,isLimitedLogin:h,isPartner:p,partner:g,teenSafetyOptionsUrl:U}=(0,j.Z)(),F=(0,m.ZP)(),{logContextEvent:H}=(0,v.v)(),q=(0,i.k6)(),{isLoaded:W,data:$}=(0,k.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:K,data:Y}=(0,k.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:X=!1}=$||{},{handleShowReportBugModal:J}=V(),Q=(0,A.Z)(),ee=function(){let e=(0,m.ZP)(),t=(0,s.useContext)(M.Z),n=(0,O.kM)(window,t),i=(0,Z.Z)(),o=e=>{i({component:247,element:e,event_type:101})},a=(0,z.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,R.Z)(n)});return N.includes(n)?{onClick:()=>{if("windows"===n)o(11409),(0,T.Z)(`${I.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(o(11410),e.prompt())}},text:a}:null}(),{checkExperiment:et}=(0,E.F)(),en=!!u&&p,es=u&&!!U,ei=!!u&&!h,eo=(0,b.Z)(),{fetchedUserAccounts:ea,handleAccountRepClick:el,handleAddSecondaryAccount:er,handleClick:ec,handleLinkedAccountSwitch:ed,handleUnlockBusinessTools:eu,isLoading:e_,showUnlockBusinessTools:eh}=(0,C.Z)(e,a),ep=w(),em=ea.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),eg=ea.find(e=>e.id===(u&&c));u&&g?.is_linked_business&&(em=em.sort(e=>eg?.owners?.some(t=>t.id===e.id)?-1:1));let ef=K&&(!Y?.opt_in_private_account||Y.opt_in_private_account&&(em.length>1||1===em.length&&em[0].businesses.length>0)),ev=e_&&(0,d.jsx)(P.Z,{}),eb=eg?.businesses?.length?eg.businesses.map(e=>c!==e.id&&(0,d.jsx)(o.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ed(e,eg.id),option:ep.lbaAccountSwitch(e),children:(0,d.jsx)(x.Z,{user:e},e.id)},e.id)):null,ey=em.map(e=>e.id!==(u&&c)?[(0,d.jsx)(o.Lt.Item,{onSelect:()=>el(e),option:ep.parentAccount(e),children:(0,d.jsx)(x.Z,{isCurrentAccount:(u&&c)===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>c!==t.id&&(0,d.jsx)(o.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ed(t,e.id),option:ep.businessAccount(t),children:(0,d.jsx)(x.Z,{user:t},t.id)},t.id)):[]]:null),ex=a&&(0,d.jsx)(o.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:er,option:ep.addAccount}),ew=(0,d.jsx)(o.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:er,option:ep.addAccount}),eA=eh&&(0,d.jsx)(o.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:eu,option:ep.convertToBusiness}),eC=W&&X&&(0,d.jsx)(o.Lt.Link,{href:"/content-claiming",onClick:()=>ec(13606),option:ep.contentClaiming}),eP=u&&!!_&&(0,d.jsx)(o.Lt.Item,{onSelect:()=>{J(),ec(13607),e()},option:ep.reportBug}),eS=(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-settings",href:ei?`https://${(0,y.Z)()}/settings`:"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(247)},option:ep.settings,children:l&&(et("dweb_google_connect_persistent_banner_v2").anyEnabled||et("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,d.jsxs)(o.kC,{children:[(0,d.jsx)(o.xv,{weight:"bold",children:"Settings"}),(0,d.jsx)(o.kC,{direction:"column",justifyContent:"center",children:(0,d.jsx)(o.xu,{marginStart:2,children:(0,d.jsx)(L.Z,{height:8,width:8})})})]})}),eE=et("aid_exp_business_manager_dropdown_entrypoint").anyEnabled,ek=null;en&&(ek=eE?(0,d.jsx)(f,{}):(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-business-access",href:`https://${(0,y.Z)()}/business/business-access/`,onClick:()=>ec(11719),option:ep.businessAccess}));let eI=(0,d.jsx)(o.Lt.Link,{href:ei?"/edit":"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(11345)},option:ep.homefeedTuner}),eL=!en&&ee?(0,d.jsx)(o.Lt.Item,{onSelect:()=>{ee.onClick(),e()},option:ep.installApp(ee.text)}):null,ej=(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-privacy",href:ei?`https://${(0,y.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(13334)},option:ep.settingsPrivacy}),eT=(0,d.jsx)(o.Lt.Link,{href:ei?"/reports-and-violations":"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(14618)},option:ep.reportsAndViolationsCenter}),eZ=es?(0,d.jsx)(o.Lt.Link,{href:U??"",iconEnd:"visit",onClick:()=>{H({event_type:101,element:14321}),ec(14321)},option:ep.teenSafetyResources}):null,eO=en&&n&&(!t||(0,S.Z)((t||{}).actions||[],7))&&(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:I.JbB,iconEnd:"visit",onClick:()=>ec(10106),option:ep.adsSupport}),eR=en?(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:I.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>ec(11345),option:ep.requestFeature}):null,ez=(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-help",href:`${I.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>ec(8002),option:ep.getHelp}),eM=(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-tos",href:I.U5h,iconEnd:"visit",onClick:()=>ec(61),option:ep.termsOfService}),eN=(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-policy",href:I.R_9,iconEnd:"visit",onClick:()=>ec(8004),option:ep.privacyPolicy}),eD=(0,d.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>ec(13613),option:ep.betaTester}),eB=(0,d.jsx)(o.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:Q,option:ep.logOut}),eU=ef?(0,d.jsxs)(o.Lt.Section,{label:F._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ev,eb,ey,!Y?.opt_in_private_account&&ex,!Y?.opt_in_private_account&&eA]},"your-accounts"):null,eF=(0,d.jsxs)(o.Lt.Section,{label:F._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ev,eb,ey,!Y?.opt_in_private_account&&ew,!Y?.opt_in_private_account&&eA,eS,ek]},"your-accounts"),eH=(0,d.jsxs)(o.Lt.Section,{label:F._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[eC,eT,eL]}),eV=(0,d.jsxs)(o.Lt.Section,{label:F._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[eZ,ez,eO,eR,eP]}),eq=(0,d.jsxs)(o.Lt.Section,{label:F._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[eN,ej]}),eG=(0,d.jsxs)(o.Lt.Section,{label:"",children:[eM,eB]}),eW=(0,d.jsx)(o.Lt.Item,{onSelect:()=>{(0,G.nP)(D.Un.MORE_OPTIONS_OPT_OUT,{sampleRate:1}),(0,B.f)(),q.push("/"),window.location.reload()},option:{label:"Opt out of Vertical Nav",value:"opt-out-vertical-nav"}}),e$=(0,d.jsxs)(o.Lt.Section,{label:F._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu'),children:[r?eW:null,eP,eS,ek,eI,eL,eO,eR,eT,eC,ej,eZ,ez,eM,eN,eD,eB]});return{yourAccount:en?eF:eU,moreOptions:en?[eH,eV,eq,eG]:e$}}({onDismiss:t,advertiser:n,showAdsSupportOption:r,isWwwSite:c,isPersistentArrUpsellEnabled:u,isVerticalNavEnabled:et}),ei=(0,s.useRef)(null),eo=(0,X.Z)(),ea="HeaderAccountOptionsFlyout",el="verticalNavDropdownAnchor",er=(0,d.jsxs)(o.Lt,{anchor:et?ei.current:e,disableMobileUI:!0,id:ea,idealDirection:"down",isWithinFixedContainer:!0,onDismiss:t,zIndex:new o.Ry(1e3),children:[l&&(p?(0,d.jsxs)(o.Lt.Section,{label:h._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,d.jsx)(o.Lt.Item,{onSelect:()=>{},option:J.failedAccount,children:(0,d.jsx)(x.Z,{user:p})}),(0,d.jsx)(W,{failedAccount:p,handleReauthAccount:H,handleRemoveUnauthAccount:q})]}):[(0,d.jsx)(o.Lt.Section,{label:h._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:!!Q&&(0,d.jsx)(o.Lt.Item,{onSelect:()=>ee?F(Q,void 0):U(Q),option:J.currentAccount,selected:J.currentAccount,children:(0,d.jsx)(o.rU,{href:c?`/${Q.username}/`:`${K.C0}/${Q.username}/`,underline:"none",children:(0,d.jsx)(x.Z,{isCurrentAccount:!0,user:Q})})})},"currently-in"),en]),es]});return(0,d.jsx)(Y.Z,{children:et?(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)($.Z,{unsafeCSS:`
              /* Prevent default transform used to position Dropdown near anchor */
              [data-testid='${el}'] > div > div {
                transform: none !important;
              }

              /* Ensure dropdown is the correct dimensions */
              [data-testid='${el}'] #${ea} {
                height: calc(100vh - ${2*D.zz}px) !important;
                max-height: none !important;
                max-width: ${D.GJ}px !important;
                width: ${D.GJ}px !important;
              }

              /* Subtitle text tied to the Dropdown.Section */
              [data-testid='${el}'] #${ea} [aria-label] > [role="presentation"] {
                padding: 12px !important;
              }

              /* Adjust spacing for each highlightable menu item */
              [data-testid='${el}'] [role="menuitem"] > div {
                padding: 12px !important;
              }
        `}),(0,d.jsx)(o.xu,{ref:ei,dangerouslySetInlineStyle:{__style:{left:eo+D.L7}},"data-testid":el,marginTop:4,position:"fixed",top:!0,children:er})]}):er})}let Q=e=>["MOBILE","DESKTOP"].includes(e),ee=e=>"STERLING"===e,et=e=>"ANALYTICS"===e;var en=n(205841),es=n(454514),ei=n(739670),eo=n(486587),ea=n(624797),el=n(741983),er=n(737811),ec=n(13848),ed=n(311694),eu=n(514810),e_=n(983983),eh=n(683882),ep=n(89511),em=n(728277);function eg({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,isPersistentArrUpsellEnabled:l,advertiser:r,idealTooltipDirection:c,icon:u,iconSize:_,defaultIconColor:g,selectedIconColor:f,tooltipZIndex:v,onClick:b,onPanelChange:y}){let x=(0,m.ZP)(),{showAccountMenuFlyout:w,updateHeaderState:A}=(0,eu.Z)(),C=e=>{A({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[P,S]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!0),Z=(0,i.k6)(),O=(0,j.Z)(),R=(0,em.Z)(),z=(0,ep.Z)({user:R.data,viewer:O}),M=z&&I,N=(0,k.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:O.isAuth?O.id:""}}),D=(0,s.useRef)(null),{checkExperiment:B}=(0,E.F)(),U=Q(e)&&!t||et(e)||ee(e),F=ee(e)||n,H=(0,i.TH)(),V=(0,ec.F9)();(0,s.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,history:s,username:i,fullName:o,avatarUrl:a}){if(!(n&&n.search))return;let l=(0,eo.Z)(t,n,i||""),{message:r}=(0,ea.mB)(n.search),c=r===ei.pN||r===ei.aU;l&&(e(({hideToast:e})=>(0,d.jsx)(es.ZP,{duration:ei.Jl,onHide:e,text:l,thumbnail:c?{avatar:(0,d.jsx)(en.qE,{name:o||"",size:"md",src:a||""})}:void 0})),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}({showOneToast:V.showOneToast,i18n:x,location:H,history:Z,username:O.username||"",fullName:O.fullName||"",avatarUrl:O.imageMediumUrl||""})},[]),(0,s.useEffect)(()=>(O.isAuth&&O.partner&&(0,er.Mt)(O,N.data),()=>{O.isAuth&&O.partner&&(0,er.CV)("flyout.dismiss")}),[]);let G=()=>{C(!1)},W=()=>{b?.(),C(!w),S(!1),T(!1)};(0,s.useEffect)(()=>{(N.data?.businesses??[]).length>0&&S(!0)},[N]),(0,s.useEffect)(()=>{y?.(w)},[w]);let{pathname:$}=H,K=!($.startsWith("/settings")||$.startsWith("/edit"))&&(O.username&&$.startsWith(`/${O.username}`)||$.startsWith("/news_hub")),Y=z||$.startsWith("/homefeed")||$.startsWith("/business/hub")||"/"===$,X=(0,a.Z)(),eg=x._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu');return(0,d.jsx)(ed.T,{children:(0,d.jsx)(q,{children:(0,d.jsxs)(h,{onDismiss:G,children:[(0,d.jsxs)(o.xu,{ref:D,"data-test-id":"header-accounts-options-button",position:"relative",children:[X?(0,d.jsx)(eh.Eq,{defaultSvgUrl:eh.vX.moreOptions.default,onSelect:W,selected:w,selectedSvgUrl:eh.vX.moreOptions.selected,tooltipText:eg}):(0,d.jsx)(o.hU,{accessibilityLabel:x._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:u||"arrow-down",iconColor:w?f||"darkGray":g||"gray",onClick:W,size:_||"xs",tooltip:{accessibilityLabel:"",text:eg,zIndex:v||new o.H3([new o.Ry(e_.fe)]),idealDirection:c}}),l&&(B("dweb_google_connect_persistent_banner_v2").anyEnabled||B("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{right:"8px"}},position:"absolute",top:!0,children:(0,d.jsx)(L.Z,{height:14,isAbsolute:!0,text:"1",width:14})})]}),w&&(0,d.jsx)(o.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,d.jsx)(J,{advertiser:r,anchor:D.current,isPersistentArrUpsellEnabled:l,isWwwSite:Q(e),onDismiss:G,showAccountSwitcher:U,showAdsSupportOption:F})}),P&&(0,d.jsx)(o.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,d.jsx)(p.default,{anchor:D.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,el.LO)(H)&&(0,d.jsx)(p.default,{anchor:D.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),O.isAuth&&!O.partner?(0,d.jsx)(p.default,{anchor:D.current,experienceIds:[503893,503602],onClickComplete:()=>Z.push("/settings"),placementId:1000109,showCaret:!0}):null,M&&(0,d.jsx)(p.default,{anchor:D.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{T(!1),Z.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"}),K&&(0,d.jsx)(p.default,{anchor:D.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{Z.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"}),Y&&(0,d.jsx)(p.default,{anchor:D.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{Z.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})]})})})}},434593:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(883119),i=n(205841),o=n(140017),a=n(785893);function l(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function r({user:e,isCurrentAccount:t}){let n=(0,o.ZP)(),r=e.partner;return(0,a.jsxs)(s.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,a.jsx)(s.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,a.jsx)(i.qE,{accessibilityLabel:"",name:l(e),src:function(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}(e)})}),(0,a.jsxs)(s.xu,{maxWidth:176,children:[(0,a.jsx)(s.xv,{lineClamp:1,weight:"bold",children:l(e)}),(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,a.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",children:r?n._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):n._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,a.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",children:r?e.partner?.bizContactEmail:e.email})})]})]})}},991326:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(587703),i=n(737811),o=n(488726),a=n(598753),l=n(149722),r=n(939341);function c(){let e=(0,l.Z)(),t=(0,s.Z)(),n=(0,o.aU)(),{headerVisible:c,activeClient:d,changeClient:u}=(0,r.a)()||{};return function(){if(t({event_type:101,component:8,element:8005}),c&&d){u();return}(0,a.lv)()>1?(e.isAuth&&((0,i.RD)(e.id),(0,i.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,a.Q)()})):((0,i.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},404891:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),i=n(616550),o=n(216167),a=n(316353),l=n(214877),r=n(322079),c=n(30378),d=n(307772),u=n(737811),_=n(702497),h=n(149722),p=n(311694),m=n(794109),g=n(953565);function f(e,t){let{flushContextEvents:n,logContextEvent:f}=(0,l.v)(),[v,b]=(0,s.useState)(!1),[y,x]=(0,s.useState)(null),w=(0,i.k6)(),A=(0,h.Z)(),{showAccountSwitcherLoginModal:C}=(0,p.g)(),P=()=>{C("account_switcher_flyout",y?.email)},{userAccounts:S}=(0,m.N)(),{data:E}=(0,a.iY)(),k=(0,r.Z)(),I=!!(A.isAuth&&!A.partner&&E?.businesses)&&0===E.businesses.length;(0,s.useEffect)(()=>(A.isAuth&&(0,u.Mt)(A,E),()=>{(0,u.CV)("flyout.dismiss")}),[]),(0,s.useEffect)(()=>((0,u.CV)("modal.shown"),()=>{(0,u.CV)("modal.dismiss")}),[]),(0,s.useEffect)(()=>{S.length>1&&f({event_type:13,view_type:234,component:13369,element:12722})},[f,S]);let L=(e,t)=>{throw(0,u.z3)(e,"account_switcher_flyout"),b(!1),t},j=e=>{let{id:t}=e;b(!0),f({event_type:101,component:13369,element:11196}),(0,u.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(d.LU),n(!0),k({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,u.iS)("/",t,"account_switcher_flyout"):((0,u.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,u.z3)(t,"account_switcher_flyout"),x(e),b(!1))},e=>{L(t,e)})};return{failedAccount:y,fetchedUserAccounts:S,handleAccountRepClick:e=>{A.isAuth&&e.id!==A.id&&j(e)},handleAddSecondaryAccount:()=>{(0,u.CV)("add_account_click",null,"account_switcher_flyout"),f({event_type:101,component:8,element:12756}),e(),w.push("/add-account")},handleClick:t=>{13290!==t&&f({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,s)=>{let{partner:i}=e;if(b(!0),f({event_type:101,component:13369,element:i?.isLinkedBusiness?11195:11194}),c.Z.pause(d.LU),n(!0),i?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:s};(0,g.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),k({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,g.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,u.iS)("/",e.id,"account_switcher_flyout")},t=>{L(e.id,t)})}else o.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{A.isAuth&&((0,u.RD)(A.id),(0,u.iS)(t?`/${e.username}`:"/",A.id,"account_switcher_flyout"))},e=>{A.isAuth&&L(A.id,e)})},handleReauthAccount:()=>{(0,u.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),x(null),P()},handleRemoveUnauthAccount:e=>{(0,u.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,u.RD)(e),x(null)},handleUnlockBusinessTools:()=>{e(),A.isAuth?window.location.href="https://www.pinterest.com/convert-business":w.push(`${_.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),f({event_type:101,component:8,element:10299})},isLoading:v,showUnlockBusinessTools:I}}},42068:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e,t){return e.includes(t)||e.includes(80)}},86785:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>a,oi:()=>s,u$:()=>i,un:()=>r,vU:()=>l,w1:()=>c});let s=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?s.CHROME:e.includes("Safari")?s.SAFARI:e.includes("Firefox")?s.FIREFOX:e.includes("Opera")?s.OPERA:e.includes("IE")?s.IE:e.includes("Edge")?s.EDGE:s.OTHER:s.OTHER;function o(e){return i(e)===s.SAFARI}function a(e){return i(e)===s.CHROME}function l(e){return i(e)===s.FIREFOX}function r(e){return i(e)===s.EDGE}function c(e){return i(e)===s.IE}},807657:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(29156),i=n(217058),o=n(968946);let a=(e,t)=>{t?.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,i.My)("url_reset")),(0,s.Z)(e)}},114267:(e,t,n)=>{n.d(t,{Z:()=>s});let s={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:(e,t,n)=>{function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class i{static reportGoogleConversion(e,t,n,s){if(!s){if(void 0===window.gtag_report_conversion){i.queuedGoogleConversions.push({id:e,label:t,url:n});return}window.gtag_report_conversion(e,t,n)}}static reportFacebookConversion(e,t,n){if(void 0===window.fbq){i.queuedFacebookConversions.push({id:e,event:t,data:n});return}n?window.fbq("track",t,n):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,n){if(void 0===window.fbq){i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n});return}n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,n){if(void 0===window.pintrk){i.queuedPinterestConversions.push({id:e,event:t,data:n});return}n?window.pintrk("track",t,n):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){let n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){let s=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${s}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};let n=i.queuedGoogleConversions;for(let s=0;s<n.length;s+=1){let o=n[s];o.id===e&&i.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,s,o,a,l,r;t=window,n=document,s="script",o="//connect.facebook.net/en_US/fbevents.js",t.fbq||(a=t.fbq=function(){"function"==typeof a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(l=n.createElement(s)).async=!0,l.src=o,(r=n.getElementsByTagName(s)[0]).parentNode.insertBefore(l,r)),window.fbq("init",e),window.fbq("track","PageView");let c=i.queuedFacebookConversions;for(let t=0;t<c.length;t+=1){let n=c[t];n.id===e&&(n.isCustomEvent?i.reportCustomFacebookConversion(e,n.event,n.data):i.reportFacebookConversion(e,n.event,n.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let n=document.createElement("script");n.async=!0,n.src=e;let s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=i.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){let s=t[n];s.id===e&&i.reportPinterestConversion(e,s.event,s.data)}}}s(i,"queuedGoogleConversions",[]),s(i,"queuedFacebookConversions",[]),s(i,"queuedPinterestConversions",[]);let o=i},316353:(e,t,n)=>{n.d(t,{OS:()=>o,iY:()=>a});var s=n(757640),i=n(149722);let o=4;function a(){let e=(0,i.Z)();return(0,s.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},65775:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),i=n(140017),o=n(785893);function a(){let e=(0,i.ZP)();return(0,o.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(s.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},847160:(e,t,n)=>{n.d(t,{Bx:()=>i,N4:()=>a,is:()=>l,lt:()=>s,oM:()=>o});let s=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),l=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},515278:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(847160),i=n(140017),o=n(166770);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),a=(0,i.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||s.lt(a))}}},769666:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(372085),i=n(217058),o=n(224796),a=n(191313),l=n(407053),r=n(264985),c=n(543975),d=n(926234),u=n(67661);async function _(e){let t=(0,u.ZP)(),n=(0,r.nR)(),_=(0,c.d)(),h=t?t.map(({pageType:e,...t})=>t):null,p={is_register:e??!1};if(h&&(p.unauth_visited_pages=JSON.stringify(h)),n&&(p.invite_redemption=JSON.stringify(n)),_&&(p.paid_landing=JSON.stringify(_)),h||n||_){let e=await (0,s.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:p});(0,i.My)(`landing_signals.flush.${e.status}`),(0,u.t_)()&&(0,a.L_)(l.tz),(0,a.qn)(o.ny)&&(0,a.L_)(o.ny),(0,a.qn)(o.Vb)&&(0,a.L_)(o.Vb),(0,r.nR)()&&((0,a.L_)(l.Lg),(0,a.L_)(l.dx)),(0,c.d)()&&(0,a.L_)(l.eV),(0,d.O)()&&(0,a.L_)(l.fo)}}},627879:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(372085),i=n(288240),o=n(569372);let a=async({clientTrackingParams:e,href:t,isMounted:n,pinId:a,spamCheckCallback:l})=>{let r=await function(e){let t=(0,i.Z)(e),n=o.y8.get("ApiResource",t);if(n)return n;let a=(0,s.Z)(e);return o.y8.add("ApiResource",t,a),a}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:a,url:t}});if(!r.resource_response.error&&n){let{message:e,redirect_status:t,url:n}=r.resource_response.data||{};l({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:n})}}},921247:(e,t,n)=>{n.d(t,{Z:()=>s});function s({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},794977:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(467139);function i({location:e,pinId:t,surface:n}){return!!n&&!s.ZF.includes(n)||e.pathname.includes(t)}},340370:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(667294),i=n(616550),o=n(627879),a=n(921247),l=n(979606),r=n(794977),c=n(96761),d=n(460270),u=n(862249),_=n(557874),h=n(953565);function p(e){let{clientTrackingParams:t,externalData:n,href:p,onHistoryChange:m,target:g}=e,[f,v]=(0,s.useState)(null),[b,y]=(0,s.useState)(!1),x=(0,i.k6)(),w=(0,i.TH)(),A=(0,d.Z)(p),C=(0,u.Z)({url:A}),{showWarning:P}=(0,_.s)()??{},{pin:S,surface:E}=n||{},k=t||S?.trackingParams,I=(0,c.Z)();return(0,s.useEffect)(()=>(y(!0),()=>{y(!1)}),[]),(0,s.useEffect)(()=>{C&&S&&null===f&&b&&(!S.promoter||S.isDownstreamPromotion)&&(0,r.Z)({location:w,pinId:S.entityId,surface:E})&&(0,o.Z)({clientTrackingParams:k,isMounted:b,pinId:S.entityId,spamCheckCallback:e=>v(e),href:A})},[k,S,E,A,C,b,w,f]),({event:e})=>{if(!(0,a.Z)({isOffsiteUrl:C,event:e})){if(e.preventDefault(),!p||"string"==typeof p&&p.startsWith("#")){(0,h.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:w.pathname,href:p}});return}C||n?.dangerouslyForceOffsiteUrl?I({auxData:n?.auxData,clientTrackingParams:k,pin:n?.pin&&{attributionSourceId:n.pin.attributionSourceId,campaignId:n.pin.campaignId,isPromoted:n.pin.isPromoted,pinPromotionId:n.pin.pinPromotionId,isThirdPartyAd:n.pin.isThirdPartyAd,advertiserId:n.pin.advertiserId,destinationUrl:n.pin.destinationUrl,link:n.pin.link,domain:n.pin.domain},pinId:n?.pin?.entityId,queryParams:n?.queryParams,showWarning:P,spamCheck:f,url:A}):(0,l.Z)({event:e,href:p,history:x,onHistoryChange:m,target:"blank"===g?"blank":null})}}}},96761:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(453880),i=n(934378),o=n(263032),a=n(86785),l=n(214877),r=n(551501),c=n(931090),d=n(171966);let u=(e,t,n)=>{let s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block",s.setAttribute(i.$N.ATTRIBUTION_SOURCE_ID,e),s.setAttribute(i.$N.ATTRIBUTE_DESTINATION,n),s.setAttribute(i.$N.ATTRIBUTE_ON,n),s.click()},_=(e,t,n,s,a,l,r)=>{let c=(0,o.m_)(e,[n,s,a],!0,l,r),d=document.createElement("a");d.setAttribute("href",t),d.setAttribute("target","_blank"),d.setAttribute("rel","noopener nofollow noreferrer"),d.style.cursor="pointer",d.style.display="block",d.setAttribute(i.NR.SOURCE,c),d.click()},h=()=>{let{logContextEvent:e}=(0,l.v)();return({attributionSourceId:t,auxData:n,campaignId:i,clientTrackingParams:o,href:l,isPromoted:c,pinId:d,pinPromotionId:h,isThirdPartyAd:p,advertiserId:m,destinationUrl:g,link:f,domain:v})=>{if(!c)return!1;let b=(0,s.Z)(),y=(0,r.Z)(l,{params:{pinId:d,csrId:null,clientTrackingParams:o,auxData:n,isThirdPartyAd:p}}),x=b?.userAgent.browserName??"";if((0,a.G6)(x)){let{group:n}=b?.experimentsClient.checkExperiment("m10n_event_conversion_measurement")??{},s=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",a=parseFloat(s.split(".")[0]+"."+s.split(".")[1]);if(t&&a>=14.1&&["enabled_safari"].includes(n))return u(t,y,l),e({event_type:101,clientTrackingParams:o,object_id_str:d||"",aux_data:{pin_id:d||"",click_measurement_ppid:h||"",click_measurement_campaign_id:i||"",is_pcm:!0,attribution_source_id:t,page_url:l}}),!0}else if((0,a.i7)(x)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return _(t,y,g,f,v,i,m),e({event_type:101,clientTrackingParams:o,object_id_str:d||"",aux_data:{pin_id:d||"",click_measurement_ppid:h||"",click_measurement_campaign_id:i||"",is_arapi:!0,attribution_source_id:t,page_url:l}}),!0;return!1}},p=e=>{let t=h();return({auxData:n,clientTrackingParams:s,pin:i,pinId:o,queryParams:a,showWarning:l,spamCheck:r,url:u})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(u,{clientTrackingParams:s,pinId:o,hasPin:!!i,auxData:n,isThirdPartyAd:i?.isThirdPartyAd});return}if(!i&&!e?.isFromClickthroughLink){(0,c.Z)(u,a?{queryParams:a}:{params:{pinId:o}});return}if(r?.blocked){l?.(r);return}i&&t({attributionSourceId:i.attributionSourceId,auxData:n,campaignId:i.campaignId?String(i.campaignId):null,clientTrackingParams:s,href:u,isPromoted:i.isPromoted,pinId:o,pinPromotionId:i.pinPromotionId?String(i.pinPromotionId):null,isThirdPartyAd:i.isThirdPartyAd,advertiserId:i.advertiserId?i.advertiserId:null,destinationUrl:i.destinationUrl,link:i.link,domain:i.domain})||(0,c.Z)(u,{params:{clientTrackingParams:s,auxData:n,pinId:o,isThirdPartyAd:i?.isThirdPartyAd}})}}},739670:(e,t,n)=>{n.d(t,{Di:()=>a,Jl:()=>s,R:()=>i,aU:()=>l,j2:()=>o,pN:()=>r});let s=1e4,i="permanent_account_closure",o="account_deletion_email_sent",a="account_deactivated",l="unlink_successful",r="account_switch_to_settings"},486587:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(169346),i=n(624797);function o(e,t,n=""){if(!(t&&t.search))return"";let{message:a}=(0,i.mB)(t.search),l=(0,i.mB)(t.search).username||n,r="true"===(0,i.mB)(t.search).multiple_accounts;return(0,s.Z)({i18n:e,message:a,multipleAccounts:r,username:l})}},169346:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(883119),i=n(339001),o=n(739670),a=n(785893);function l(e,t,n){return(0,a.jsx)(s.xv,{align:n||"center",children:(0,i.nk)(e,{username:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function r({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case o.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case o.j2:if(n)return l(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),s);return l(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case o.Di:return l(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case o.aU:return l(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case o.pN:return l(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");default:return""}}},737811:(e,t,n)=>{n.d(t,{CV:()=>l.Z,Mt:()=>d,RD:()=>c,iS:()=>u,z3:()=>_});var s=n(29156),i=n(30378),o=n(307772),a=n(54576),l=n(300494),r=n(598753);let c=e=>{let t={...(0,r.rl)()};delete t[e],(0,r.r8)(t)},d=(e,t)=>{if(!(0,r.PE)()||e&&!(e.id in(0,r.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,a.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});return}(0,a.Z)(e)}},u=(e,t,n)=>{(0,l.Z)("switch_account_success",{destination_user_id:t},n),(0,s.Z)(e)},_=(e,t)=>{i.Z.resume(o.Z3),(0,l.Z)("switch_account_failure",{destination_user_id:e},t)}},705895:(e,t,n)=>{function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});let i=new class{constructor(){s(this,"onResumeListeners",[]),s(this,"onPauseListeners",[]),s(this,"inExp",!1),s(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){let{reason:t}=e;i.windowInFocus=!1,i.onPauseListeners.forEach(e=>e(t))}else i.windowInFocus=!0,i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=i},729817:(e,t,n)=>{n.d(t,{Kw:()=>l,RD:()=>r,dD:()=>d});var s=n(216167),i=n(372085),o=n(598753);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],l=async()=>{let e=await s.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},r=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let s=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===s.length||n[s[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let i=s.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,o.r8)(i),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),d=async e=>{let t=await l(),n=e.id;t[n]||(t[n]={logged_in:!0});let s=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),o=(await (0,i.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(s)}})).resource_response.data;return o&&Object.keys(o).length>0?function(e){let t=e.every(e=>!!e.fullName)?"fullName":"username";return[...e].sort((e,n)=>e[t]>n[t]?1:n[t]>e[t]?-1:0)}(Object.keys(o).filter(e=>"success"===o[e].status).map(e=>c(o[e].data))):[]}},508218:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>m,lp:()=>p,nY:()=>g});var s=n(224796),i=n(807657),o=n(602377),a=n(731714),l=n(702497),r=n(217058),c=n(88682),d=n(623891);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class _{static defaultLoginRedirectUrl(){return window.location.pathname===l.lfe||window.location.pathname===l.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=a.Z.getItem(s.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=a.Z.getItem(s.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let i=t.join("|");a.Z.setItem(s.kl,i)}static isFullyLoggedIn(e,t){return e&&t===o.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,d.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,c.Z)(e||"/",t)}}(0,i.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){a.Z.setItem(s.F6,Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,r.My)("navigatorCredentials.store.success")})}catch(e){(0,r.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,r.My)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,r.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=_;function p(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":p(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},598753:(e,t,n)=>{n.d(t,{M3:()=>c,PE:()=>a,Q:()=>d,lv:()=>l,r8:()=>o,rl:()=>i,yW:()=>r});var s=n(191313);let i=()=>{try{let e=(0,s.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch{return Object.freeze({})}},o=e=>(0,s.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),a=()=>!!(0,s.qn)("MULTIPLE_ACCOUNTS"),l=()=>Object.keys(i()).length,r=()=>{try{let e=(0,s.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch{return null}},c=e=>(0,s.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),d=()=>({multipleAccountMap:i(),multipleAccountGroupId:r()})},182962:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(667294),i=n(340523);let o=()=>{let e=(0,i.F)();return(0,s.useCallback)(()=>{e.flush()},[e])}},503325:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(172045),i=n(17314);function o(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),l=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,s.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},28449:(e,t,n)=>{n.d(t,{$:()=>s,Z:()=>o});let{Provider:s,useMaybeHook:i}=(0,n(342513).Z)("TimeSpentManagerContext"),o=i},722363:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(373314),o=n(217058);function a(){return(0,s.useCallback)(e=>{e.action&&e.event?(0,o.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,i.Z)()}):(0,o.My)("pinner_conversion.missing_tags")},[])}},623409:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(616550),o=n(741983),a=n(389638),l=n(217058);let r=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,a.Z)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function c(){let e=(0,i.TH)();return(0,s.useCallback)(({action:t,item:n,within:s})=>{let i=r(e);(0,l.My)(`logged_out_product.interaction.${i}.${t}`,{item:n||"none",within:s||"none"})},[e])}},595731:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),i=n(683882),o=n(785893);function a({accessibilityLabel:e,color:t,count:n,icon:a,iconSize:l,verticalNavCustomSvgBackgroundUrl:r}){let c=n<100?`${n}`:"99+";return(0,o.jsxs)(s.xu,{position:"relative",children:[r?(0,o.jsx)(i.dK,{svgBackgroundImageUrl:r}):(0,o.jsx)(s.JO,{accessibilityLabel:e,color:t,icon:a,size:l}),n>0&&(0,o.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,o.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,o.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:c})})})]})}},858128:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(883119),i=n(785893);let o=({height:e,width:t,text:n,isAbsolute:o})=>(0,i.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:o?"absolute":void 0,rounding:"pill",width:t,children:(0,i.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:n||""})})})},460270:(e,t,n)=>{n.d(t,{Z:()=>s});let s=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},487487:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(689390),i=n(139655);let o=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,i.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,s.Z)(e[1]).pinId||void 0}}},998449:(e,t,n)=>{n.d(t,{Z:()=>o});let s=(e,t)=>0===e.lastIndexOf(t,0);var i=n(885896);let o=({url:e})=>{let t=(0,i.Z)("/");return s(e,t)?e.substr(t.length-1):e}},222881:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(494125),i=n(239821);function o({children:e}){let{setAppFocusState:t}=(0,i.I)();return(0,s.Z)(()=>(t(!1),()=>{t(!0)})),e}},474708:(e,t,n)=>{n.d(t,{q:()=>_,y:()=>h});var s=n(667294),i=n(340523),o=n(5859),a=n(238299),l=n(372085);function r(e,t){(0,a.TT)(t)&&(0,l.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var c=n(897295),d=n(785893);let u=(0,s.createContext)({campaignToolPreference:null,updateCampaignToolPreference:r}),_=({children:e})=>{let[t,n]=(0,s.useState)(null),l=(0,i.F)(),{advertiser:_}=(0,o.B)(),h=async(e,t)=>{r(e,t),n(t)};(0,s.useEffect)(()=>{(0,a.UM)(l,{skipActivation:!0})&&(async()=>{_&&n(await (0,c.f)(_.id))})()},[_,l]);let p=(0,s.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:h}),[t]);return(0,d.jsx)(u.Provider,{value:p,children:e})},h=()=>(0,s.useContext)(u)},454535:(e,t,n)=>{n.d(t,{XI:()=>i,YZ:()=>a,rc:()=>o,sU:()=>c});var s=n(667294);function i(e){let[t,n]=(0,s.useState)(!1),i=()=>n(!0),o=()=>n(!1);return(0,s.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",o)),()=>{t&&(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",o))}}),t}let o=e=>{let t=(0,s.useRef)(e);return(0,s.useEffect)(()=>{t.current=e}),t.current};function a(){let e=(0,s.useRef)(!0);return(0,s.useEffect)(()=>{e.current=!1},[]),e.current}function l(e,t){return Object.is(e,t)}let r=Symbol("pre-initial value");function c(e,{equal:t=l,delta:n}={equal:l}){let i=(0,s.useRef)(r),o=i.current;return(0,s.useEffect)(()=>{i.current=e}),{previousValue:o,changed:o===r||!t(o,e),delta:n?.(o,e)}}},58120:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(240684),i=n(883119),o=n(65775),a=n(140017),l=n(674e3),r=n(785893);let c=(0,s.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,106110)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>106110});function d(e){let t=(0,a.ZP)();return(0,r.jsx)(l.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,r.jsx)(i.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,r.jsx)(c,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,r.jsx)(o.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},311694:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>r});var s=n(667294),i=n(342513),o=n(58120),a=n(785893);let{Provider:l,useHook:r}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,s.useState)(!1),[i,r]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),u=(0,s.useCallback)((e,t)=>{d(e),t&&r(t),n(!0)},[]),_=(0,s.useMemo)(()=>({showAccountSwitcherLoginModal:u}),[u]);return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(l,{value:_,children:e}),t&&(0,a.jsx)(o.Z,{container:c,email:i??"",onClose:()=>n(!1)})]})}},674e3:(e,t,n)=>{n.d(t,{Z:()=>h});var s=n(883119),i=n(140017),o=n(406893),a=n(623409),l=n(785893);let r=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,c={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},d={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},u={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},_={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function h(e){let t=(0,i.ZP)(),n=(0,a.Z)(),{renderContent:h}=e;return(0,l.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:c},children:[(0,l.jsx)(o.Z,{unsafeCSS:r}),(0,l.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:d,children:(0,l.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:u,children:[h(),(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:_},children:(0,l.jsx)(s.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},794109:(e,t,n)=>{n.d(t,{N:()=>h,t:()=>g});var s=n(667294),i=n(616550),o=n(216167),a=n(807657),l=n(137831),r=n(114267),c=n(342513),d=n(340523),u=n(785893);let{Provider:_,useHook:h}=(0,c.Z)("LinkedAccount"),p=e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=(e,t)=>{l.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),l.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),l.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),l.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e),t.push("/")};function g({children:e}){let[t,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)([]),{checkExperiment:r}=(0,d.F)(),c=(0,i.k6)(),h=r("ppm_p_gate").anyEnabled,g=(0,s.useCallback)(({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:s,nextUrl:i})=>(n(!0),o.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:t}).callCreate({showError:!0}).then(()=>{s&&m(h,c),n(!1),p(i)}).catch(e=>(n(!1),Promise.reject({error:e})))),[n,h,c]),f=(0,s.useMemo)(()=>({createLinkedBusinessAccount:g,linkedBusinessCreationLoading:t,userAccounts:a,userAccountsRetrieved:l}),[g,t,l,a]);return(0,u.jsx)(_,{value:f,children:e})}},239821:(e,t,n)=>{n.d(t,{g:()=>_,I:()=>u});var s=n(667294),i=n(342513),o=n(705895),a=n(259866);let l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},r=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:s,isPromoted:i,currentTime:o}=n,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:r,promotedVideosAutoplaying:c,organicVideosAutoplaying:d}=l,u=(0,a.Z)(c),_=(0,a.Z)(d);return!i&&r?e:(i?u[s]={pinId:s,currentTime:o,paused:!1}:_[s]={pinId:s,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:i?r:s,promotedVideosAutoplaying:u,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:s,isPromoted:i,currentTime:o}=n,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:r,organicVideosAutoplaying:c}=l,d=(0,a.Z)(r),u=(0,a.Z)(c);return i?d[s]={...d[s],paused:!0,currentTime:o}:u[s]={...u[s],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var c=n(785893);let{Provider:d,useHook:u}=(0,i.Z)("AppUI");function _({children:e}){let[t,n]=(0,s.useReducer)(r,l),i=(0,s.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,s.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,s.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),_=(0,s.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,s.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),p=(0,s.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,s.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,s.useMemo)(()=>({pauseAutoplay:i,setCurrentVideo:u,setFooterPlusButtonVisible:_,setIsAutoplay:h,setViewportSize:p,toggleTypeaheadOverlay:m,setAppFocusState:a,appUI:t}),[i,u,_,h,p,m,a,t]);return(0,s.useEffect)(()=>{o.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,c.jsx)(d,{value:g,children:e})}},467139:(e,t,n)=>{n.d(t,{UP:()=>l,Wv:()=>i,ZF:()=>s,zI:()=>o,zl:()=>a});let s=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],i=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...i,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingTool"],a=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],l=["BaseBoardPinGrid"]},286318:(e,t,n)=>{n.d(t,{Z:()=>s});let s=(0,n(667294).createContext)(()=>null)},190149:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>s});let{Provider:s,useHook:i}=(0,n(342513).Z)("Conversations"),o=i},226136:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(190149);function i(){let{conversations:{data:e}}=(0,s.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},514810:(e,t,n)=>{n.d(t,{C:()=>s,Z:()=>o});let{Provider:s,useHook:i}=(0,n(342513).Z)("Header"),o=i},418739:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(883119),o=n(3808),a=n(214877),l=n(249150),r=n(961550),c=n(785893);let d=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,c.jsx)(l.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,u=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:l,selected:u,text:_,type:h="link",url:p,contextData:m,onClick:g})=>{let{logContextEvent:f}=(0,a.v)(),v=(0,o.Z)(),[b,y]=(0,s.useState)("transparent"),[x,w]=(0,s.useState)("transparent"),A=(0,s.useRef)(null),C=()=>{y("secondary"),w(r.bT)},P=()=>{y("transparent"),w("transparent")},S=()=>{y("transparent")},E=()=>{y("secondary")},k=e=>{if(m){let{event:e,component:t,element:n}=m;f({event_type:e,component:t,element:n})}g&&g(e)},I=(0,c.jsx)(i.iP,{accessibilityLabel:e,onBlur:S,onFocus:E,onMouseEnter:C,onMouseLeave:P,onTap:({event:e})=>k(e),rounding:v?r.uW:"circle",children:(0,c.jsx)(i.xu,{alignItems:"center",color:v?void 0:b,dangerouslySetInlineStyle:v?{__style:{backgroundColor:x}}:void 0,display:"flex",height:48,justifyContent:"center",rounding:v?r.uW:"circle",width:48,children:n})});if(l||"link"!==h||!p||t){if("link"===h&&(t&&n||l)){let s,o,a="pill";a=n||l?_&&!t?"pill":"circle":"pill",n&&(s=n),l&&(o=l);let r=_ instanceof Object?_:(0,c.jsx)(i.xv,{color:u?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:_});I=(0,c.jsx)(i.Tg,{accessibilityLabel:e,href:p||"",onBlur:S,onFocus:E,onMouseEnter:C,onMouseLeave:P,onTap:({event:e})=>k(e),rounding:a,children:(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[s,!!_&&!t&&(0,c.jsx)(i.xu,{paddingX:2,children:r}),o]})})}}else I=(0,c.jsx)(d,{anchorElementRef:A,experienceAnchor:"/"===p?".HomeButton2":"",children:(0,c.jsx)(i.Tg,{ref:A,accessibilityLabel:e,href:p,onBlur:S,onFocus:E,onMouseEnter:C,onMouseLeave:P,onTap:({event:e})=>k(e),rounding:"pill",children:(0,c.jsx)(i.xu,{color:v?void 0:b,dangerouslySetInlineStyle:v?{__style:{backgroundColor:x}}:void 0,paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(i.xv,{color:u?"default":"subtle",overflow:"normal",weight:"bold",children:_})})})});return(0,c.jsx)(i.xu,{position:"relative",children:I})}},509474:(e,t,n)=>{n.d(t,{F:()=>s,j:()=>i});let{Provider:s,useHook:i}=(0,n(342513).Z)("SiteParametersContextType")},683882:(e,t,n)=>{n.d(t,{Eq:()=>d,dK:()=>c,vX:()=>r});var s=n(667294),i=n(883119),o=n(876594),a=n(961550),l=n(785893);let r={create:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 3.5H5C4.17157 3.5 3.5 4.17157 3.5 5V19C3.5 19.8284 4.17157 20.5 5 20.5H19C19.8284 20.5 20.5 19.8284 20.5 19V5C20.5 4.17157 19.8284 3.5 19 3.5ZM5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5Z" fill="%23111111"/><path d="M13.25 7C13.25 6.30964 12.6904 5.75 12 5.75C11.3096 5.75 10.75 6.30964 10.75 7V10.75H7C6.30964 10.75 5.75 11.3096 5.75 12C5.75 12.6904 6.30964 13.25 7 13.25H10.75V17C10.75 17.6904 11.3096 18.25 12 18.25C12.6904 18.25 13.25 17.6904 13.25 17V13.25H17C17.6904 13.25 18.25 12.6904 18.25 12C18.25 11.3096 17.6904 10.75 17 10.75H13.25V7Z" fill="%23111111"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5ZM12 4.75C12.6904 4.75 13.25 5.30964 13.25 6V10.75H18C18.6904 10.75 19.25 11.3096 19.25 12C19.25 12.6904 18.6904 13.25 18 13.25H13.25V18C13.25 18.6904 12.6904 19.25 12 19.25C11.3096 19.25 10.75 18.6904 10.75 18V13.25H6C5.30964 13.25 4.75 12.6904 4.75 12C4.75 11.3096 5.30964 10.75 6 10.75H10.75V6C10.75 5.30964 11.3096 4.75 12 4.75Z" fill="%23111111"/></svg>\')'},today:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32453)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.3839 5.61609C18.7375 5.96967 18.8463 6.49995 18.6606 6.96423L15.7439 14.2561C15.7415 14.2624 15.739 14.2687 15.7365 14.275C15.4315 15.0368 14.8232 15.6361 14.0591 15.9306L6.94891 18.6666C6.48783 18.844 5.9655 18.7332 5.61615 18.3839C5.2668 18.0346 5.15597 17.5123 5.33336 17.0512L8.06803 9.94284C8.36219 9.17808 8.96156 8.56859 9.72491 8.26414L17.0357 5.33943C17.5 5.15369 18.0303 5.26252 18.3839 5.61609ZM13.4115 13.3556C13.4126 13.3531 13.4136 13.3505 13.4146 13.3479L15.2561 8.74398L10.6512 10.5862C10.5376 10.6315 10.4466 10.7228 10.4014 10.8402L8.67684 15.323L13.1601 13.5978C13.2734 13.5541 13.364 13.4666 13.4115 13.3556Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32453"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32464)"><path d="M12.8672 12.9015C12.9835 12.7854 13.0757 12.6476 13.1386 12.4958C13.2016 12.3441 13.234 12.1815 13.2341 12.0172C13.2342 11.8529 13.202 11.6903 13.1392 11.5385C13.0764 11.3867 12.9843 11.2487 12.8682 11.1325C12.7522 11.0163 12.6143 10.9241 12.4626 10.8611C12.3109 10.7982 12.1482 10.7657 11.984 10.7656C11.8197 10.7655 11.657 10.7978 11.5052 10.8606C11.3534 10.9234 11.2155 11.0154 11.0992 11.1315C10.9832 11.2477 10.8911 11.3857 10.8283 11.5375C10.7655 11.6893 10.7333 11.8519 10.7334 12.0162C10.7336 12.348 10.8655 12.666 11.1002 12.9005C11.335 13.135 11.6532 13.2666 11.985 13.2664C12.3167 13.2662 12.6348 13.1342 12.8692 12.8995L12.8672 12.9015ZM15.1372 14.0335C14.9302 14.5505 14.5172 14.9575 13.9982 15.1575L5.61925 18.3815L8.84225 10.0045C9.04225 9.4845 9.44925 9.0715 9.96625 8.8655L18.5833 5.4185L15.1362 14.0355L15.1372 14.0335ZM20.4853 3.5145C15.7993 -1.1715 8.20125 -1.1715 3.51525 3.5145C-1.17175 8.2015 -1.17175 15.7995 3.51525 20.4855C8.20125 25.1715 15.7993 25.1715 20.4853 20.4855C25.1713 15.7995 25.1713 8.2005 20.4853 3.5145Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32464"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},notifications:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 14.227V7C16.5 4.51471 14.4853 2.5 12 2.5C9.51471 2.5 7.5 4.51471 7.5 7V14.227L6.73561 14.9643C6.26116 15.422 5.84638 15.9379 5.5032 16.5H18.4968C18.1536 15.9379 17.7388 15.422 17.2644 14.9643L16.5 14.227ZM21.3013 16.5C21.6365 17.2867 21.8745 18.1248 22 19H2C2.12546 18.1248 2.36354 17.2867 2.69865 16.5C3.23694 15.2362 4.0256 14.1049 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7V13.165C19.9744 14.1049 20.7631 15.2362 21.3013 16.5ZM15 20.9998H9C9 21.1702 9.01421 21.3373 9.0415 21.5C9.18134 22.3334 9.66468 23.0501 10.341 23.4998C10.8161 23.8157 11.3866 23.9998 12 23.9998C12.6134 23.9998 13.1839 23.8157 13.659 23.4998C14.3353 23.0501 14.8187 22.3334 14.9585 21.5C14.9858 21.3373 15 21.1702 15 20.9998Z" fill="%23111111"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32470)"><path d="M19 7V13.165C20.581 14.69 21.673 16.719 22 19H2C2.327 16.719 3.419 14.69 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7Z" fill="%23111111"/><path d="M15 20.9998C15 22.6568 13.657 23.9998 12 23.9998C10.343 23.9998 9 22.6568 9 20.9998H15Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32470"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},messages:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_800_18532)"><rect width="24" height="24" fill="none"/><path d="M4.6831 18.2737L4.84947 17.6551L4.44456 17.1588C3.07314 15.4778 2.25 13.3365 2.25 11C2.25 5.61536 6.61536 1.25 12 1.25C17.3846 1.25 21.75 5.61536 21.75 11C21.75 16.3846 17.3846 20.75 12 20.75C10.6917 20.75 9.44625 20.4881 8.30368 20.0202L7.75509 19.7956L7.23401 20.0782L3.67907 22.0065L4.6831 18.2737Z" stroke="%23111111" stroke-width="2.5"/><circle cx="6.99219" cy="11.0078" r="1.5" fill="%23111111"/><path d="M13.4961 11.0078C13.4961 11.8362 12.8245 12.5078 11.9961 12.5078C11.1677 12.5078 10.4961 11.8362 10.4961 11.0078C10.4961 10.1794 11.1677 9.50781 11.9961 9.50781C12.8245 9.50781 13.4961 10.1794 13.4961 11.0078Z" fill="%23111111"/><circle cx="17" cy="11.0078" r="1.5" fill="%23111111"/></g><defs><clipPath id="clip0_800_18532"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32468)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 12.5C17.172 12.5 16.5 11.829 16.5 11C16.5 10.171 17.172 9.5 18 9.5C18.828 9.5 19.5 10.171 19.5 11C19.5 11.829 18.828 12.5 18 12.5ZM12 12.5C11.172 12.5 10.5 11.829 10.5 11C10.5 10.171 11.172 9.5 12 9.5C12.828 9.5 13.5 10.171 13.5 11C13.5 11.829 12.828 12.5 12 12.5ZM6 9.5C6.828 9.5 7.5 10.171 7.5 11C7.5 11.829 6.828 12.5 6 12.5C5.172 12.5 4.5 11.829 4.5 11C4.5 10.171 5.172 9.5 6 9.5ZM12 0C5.925 0 1 4.925 1 11C1 13.636 1.93 16.054 3.476 17.949L2.016 23.377C1.909 23.805 2.366 24.151 2.749 23.933L7.83 21.177C9.117 21.704 10.523 22 12 22C18.075 22 23 17.075 23 11C23 4.925 18.075 0 12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32468"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},moreOptions:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32461)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.45081V16.5492L12 21.1206L20 16.5492V7.45081L12 2.87938L4 7.45081ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM6.5 12C6.5 8.96243 8.96243 6.5 12 6.5C15.0376 6.5 17.5 8.96243 17.5 12C17.5 15.0376 15.0376 17.5 12 17.5C8.96243 17.5 6.5 15.0376 6.5 12Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32461"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32472)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.25C9.653 16.25 7.75 14.347 7.75 12C7.75 9.653 9.653 7.75 12 7.75C14.347 7.75 16.25 9.653 16.25 12C16.25 14.347 14.347 16.25 12 16.25ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32472"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'}},c=({svgBackgroundImageUrl:e,inline:t,verticalAlign:n,ariaLabel:s})=>(0,l.jsx)(i.xu,{"aria-label":s,dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundImage:e,verticalAlign:n}},display:t?"inlineBlock":"block",height:20,width:20}),d=({tooltipText:e,href:t,selectedSvgUrl:n,defaultSvgUrl:r,selected:d,onSelect:u})=>{let[_,h]=(0,s.useState)("transparent"),p=()=>{h(o.Kuk)},m=()=>{h("transparent")},g=(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:_}},display:"flex",height:48,justifyContent:"center",rounding:a.uW,width:48,children:(0,l.jsx)(c,{svgBackgroundImageUrl:d?n:r})});return(0,l.jsx)(i.u,{idealDirection:a.Mh,text:e,zIndex:a.BO,children:t?(0,l.jsx)(i.Tg,{href:t,onMouseEnter:p,onMouseLeave:m,onTap:u,rounding:a.uW,children:g}):(0,l.jsx)(i.iP,{onMouseEnter:p,onMouseLeave:m,onTap:u,rounding:a.uW,children:g})})}},961550:(e,t,n)=>{n.d(t,{BO:()=>y,GC:()=>C,GJ:()=>p,L7:()=>_,Lc:()=>d,Mh:()=>r,Qf:()=>c,Qq:()=>A,Un:()=>P,X$:()=>w,Z7:()=>u,bT:()=>f,bd:()=>g,kl:()=>m,mT:()=>b,pS:()=>v,uW:()=>x,zz:()=>h});var s,i=n(883119),o=n(876594),a=n(898518),l=n(983983);let r="right",c=80,d="VerticalNavContent",u="lg",_=16,h=16,p=368,m=12,g=o.mJW,f=o.Kuk,v=new i.H3([l.NW]),b=new i.Ry(l.fe-3),y=new i.H3([v,a.kl]),x=2,w=8,A=3,C=12,P=((s={}).PINTEREST_LOGO="web.vertical_nav.pinterest_logo.click",s.TODAY="web.vertical_nav.today.click",s.CREATE="web.vertical_nav.create.click",s.NEWS="web.vertical_nav.news.click",s.CONVERSATIONS="web.vertical_nav.conversations.click",s.AVATAR="web.vertical_nav.avatar.click",s.ACCOUNT_OPTIONS="web.vertical_nav.account_options.click",s.MODAL_OPT_OUT="web.vertical_nav.modal.opt_out",s.MODAL_DISMISS="web.vertical_nav.modal.dismiss",s.MORE_OPTIONS_OPT_OUT="web.vertical_nav.more_options.opt_out",s)},83255:(e,t,n)=>{n.d(t,{E:()=>s,Z:()=>o});let{Provider:s,useHook:i}=(0,n(342513).Z)("VerticalNav",{width:0}),o=i},589564:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(83255);function i(){let{width:e}=(0,s.Z)();return e}},408998:(e,t,n)=>{n.d(t,{M:()=>o,f:()=>i});var s=n(658583);let i=()=>{s.t8({name:"forced_experiments",purpose:"personalization",httpOnly:!1,duration:"30d"},JSON.stringify({web_vertical_nav:!1}))},o=()=>{s.zN("forced_experiments")}},162383:(e,t,n)=>{n.d(t,{Jo:()=>d,mv:()=>_,nJ:()=>u});var s=n(667294),i=n(342513);let o={hiddenNews:{}};function a(e=o,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){let{payload:{id:n,isHidden:s}}=t;return{hiddenNews:{...e.hiddenNews,[n]:s}}}return e}var l=n(785893);let{Provider:r,useHook:c}=(0,i.Z)("HiddenNews");function d({children:e}){let[t,n]=(0,s.useReducer)(a,o),i=(0,s.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,l.jsx)(r,{value:i,children:e})}function u(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,s.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},995026:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(741983);function i(e){return!((0,s.Gl)(e)||(0,s.PY)(e)||(0,s.jC)(e)||(0,s.Xn)(e)||(0,s.b_)(e)||(0,s.oF)(e)||(0,s.dt)(e)||(0,s.x7)(e)||(0,s.cY)(e)||(0,s.bb)(e))}},483169:(e,t,n)=>{n.d(t,{_:()=>h,j:()=>p});var s=n(667294),i=n(616550),o=n(684334),a=n(700280),l=n(342513),r=n(288673),c=n(149722),d=n(454051),u=n(785893);let{Provider:_,useHook:h}=(0,l.Z)("SosInfo");function p({children:e}){let[t,n]=(0,s.useState)(o.SOS_INVALID_PERMISSION_TYPE),{is_sterling_on_steroids:l,is_internal_ip:h}=(0,a.u)(),p=(0,d.HF)(),m=(0,i.TH)().pathname===p,g=(0,c.Z)(),f=g?.id;(0,s.useEffect)(()=>{!async function(){if(l&&h&&!m){let e=await (0,r.gE)({entity_id:f});e&&e.sos_user_type&&n(e.sos_user_type)}else n(o.SOS_INVALID_PERMISSION_TYPE)}()},[f,l,m,h]);let v=(0,s.useMemo)(()=>({adminPermissionType:t}),[t]);return(0,u.jsx)(_,{value:v,children:e})}},557874:(e,t,n)=>{n.d(t,{Z:()=>g,s:()=>m});var s=n(667294),i=n(342513),o=n(608575),a=n(883119),l=n(930837),r=n(140017),c=n(339001),d=n(785893);let u=()=>{let e=(0,r.ZP)(),{dismissWarning:t}=m()??{};return(0,d.jsx)(a.xu,{paddingX:3,children:(0,d.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},_=()=>{let e=(0,r.ZP)();return(0,d.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{let n=(0,r.ZP)(),{dismissWarning:s}=m()??{};return(0,d.jsx)(l.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,d.jsx)(u,{}),heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:s,children:(0,d.jsxs)(a.xu,{padding:6,children:[(0,d.jsx)(a.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(_,{},"learnMoreLink")})}),(0,d.jsxs)(a.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(a.xu,{marginEnd:3,children:(0,d.jsx)(a.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(a.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})},{Provider:p,useMaybeHook:m}=(0,i.Z)("SpammyClickthrough");function g({children:e}){let[t,n]=(0,s.useState)(null),i=(0,s.useCallback)(()=>{n(null)},[n]),o=(0,s.useCallback)(e=>{n(e)},[n]),a=(0,s.useMemo)(()=>({dismissWarning:i,showWarning:o}),[i,o]);return(0,d.jsxs)(p,{value:a,children:[t&&(0,d.jsx)(h,{...t}),e]})}},898518:(e,t,n)=>{n.d(t,{CZ:()=>a,Db:()=>r,Lu:()=>o,kl:()=>s,sb:()=>l,t3:()=>i,to:()=>c});let s=new(n(883119)).Ry(700),i="defaultInboxView",o="newMessageView",a="newMessageSelectRecipientsView",l="invitesRequestsView",r="followInviteEducationView",c=64},734513:(e,t,n)=>{n.d(t,{Z:()=>a,b:()=>l});var s=n(667294);let i=(0,s.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}});var o=n(785893);function a({children:e}){let[t,n]=(0,s.useState)(null),[a,l]=(0,s.useState)(null),[r,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),_=(0,s.useMemo)(()=>({inboxButton:t,setInboxButton:n,profileInboxButton:a,groupBoardMessageButton:d,setProfileInboxButton:l,isUnblockToast:r,setIsUnblockToast:c,setGroupBoardMessageButton:u}),[t,a,r,d]);return(0,o.jsx)(i.Provider,{value:_,children:e})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},474373:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(667294),i=n(616550),o=n(883119),a=n(510989),l=n(140017),r=n(741983),c=n(608516),d=n(624797),u=n(190149),_=n(432614),h=n(228150),p=n(983983),m=n(683882),g=n(162383),f=n(785893);let v=()=>n.e(96218).then(n.bind(n,696218)),b=(0,s.lazy)(v);function y({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,onClearBadges:y,zIndex:x,onClick:w,onPanelChange:A,tooltipText:C}){let P=(0,l.ZP)(),S=(0,i.TH)(),E=(0,s.useRef)(null),[k,I]=(0,s.useState)(!1),[L,j]=(0,s.useState)(!1),[T,Z]=(0,s.useState)(!1),[O,R]=(0,s.useState)(!1),{tab:z,news_hub_id:M}=(0,d.mB)(S.search),{conversations:{conversationsUnseenCount:N,newsHubCount:D}}=(0,u.Z)(),B=e=>{if((0,r.L6)(S))return;let t=Math.max(e,0),n=P._('Pinterest', ' - ', ' -- ');window.document.title=t?`(${t}) ${n}`:n};return(0,s.useEffect)(()=>{B(N+D),S.pathname.startsWith("/notifications")&&"inbox"!==z&&I(!0)},[N,D]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{j(k),Z(k),A?.(k)},100);return()=>clearTimeout(e)},[k]),(0,s.useEffect)(()=>{k&&A?.(k)},[k]),(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(o.xu,{ref:E,"data-test-id":"bell-icon",onMouseEnter:v,position:"relative",children:(0,f.jsx)(o.u,{accessibilityLabel:"",idealDirection:e,text:C||P._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications'),zIndex:x||new o.H3([new o.Ry(p.fe)]),children:(0,f.jsx)(h.Z,{badgeCount:D,defaultColor:t,icon:"bell",onClick:()=>{w?.(),I(!k),y(_.S.NEWS_HUB),B(0)},selected:k,selectedColor:n,verticalNavCustomSvgBackgroundUrlDefaultState:m.vX.notifications.default,verticalNavCustomSvgBackgroundUrlSelectedState:m.vX.notifications.selected})})}),(0,f.jsx)(g.Jo,{children:(0,f.jsx)("div",{className:"newsHubSidebarWrapper",style:k?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:L&&(0,f.jsx)(a.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(b,{handleDismissPanel:()=>{I(!1),R(!1)},highlightScrollSidebar:O,newsButton:E.current,show:T,utmNewsHubId:M||null})})})})})]})}var x=n(647352);function w({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:s,onClick:i,onPanelChange:o,tooltipText:a}){return(0,f.jsx)(x.Z,{icon:"bell",children:({onClearBadges:l})=>(0,f.jsx)(y,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:l,onClick:i,onPanelChange:o,selectedIconColor:n,tooltipText:a,zIndex:s})})}},228150:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(3808),i=n(140017),o=n(595731),a=n(418739),l=n(785893);function r({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:r=!1,defaultColor:c="subtle",selectedColor:d="default",verticalNavCustomSvgBackgroundUrlDefaultState:u,verticalNavCustomSvgBackgroundUrlSelectedState:_}){let h=(0,i.ZP)(),p={bell:h._('Notifications', ' - ', ' -- '),"speech-ellipsis":h._('Messages', ' - ', ' -- ')},m=(0,s.Z)();return(0,l.jsx)(a.Z,{accessibilityLabel:p[t],contextData:{event:101,component:8,element:1187},icon:(0,l.jsx)(o.Z,{accessibilityLabel:"",color:r?d:c,count:e,icon:t,iconSize:24,verticalNavCustomSvgBackgroundUrl:r?m?_:void 0:m?u:void 0}),onClick:n,text:p[t],type:"button"},"NotificationsButton")}},432614:(e,t,n)=>{n.d(t,{S:()=>s});let s={NEWS_HUB:1,INBOX:2}},791486:(e,t,n)=>{n.d(t,{Z:()=>s});let s=function(e){return{...e,ts:Date.now()}}},264985:(e,t,n)=>{n.d(t,{Lp:()=>d,SL:()=>r,nR:()=>c});var s=n(191313),i=n(407053),o=n(791486),a=n(89190),l=n(249170);let r=()=>{let e=(0,s.qn)(i.dx,"");return(0,l.Z)(e,[])},c=()=>{let e=(0,s.qn)(i.Lg,"");return(0,l.Z)(e,null)},d=e=>{if(!e)return;let t=[...r()],n=(0,o.Z)({inviteCode:e});(0,s.Nh)(i.Lg,JSON.stringify(n)),t.length>=a.e||(0,s.Nh)(i.dx,JSON.stringify([n].concat(t)))}},543975:(e,t,n)=>{n.d(t,{S:()=>r,d:()=>l});var s=n(191313),i=n(407053),o=n(791486),a=n(249170);let l=()=>{let e=(0,s.qn)(i.eV,"");return(0,a.Z)(e,null)},r=(e,t)=>{if(!e)return;let n=(0,o.Z)({...!!t&&{adImageUrl:t},campaignId:e});(0,s.Nh)(i.eV,JSON.stringify(n))}},926234:(e,t,n)=>{n.d(t,{C:()=>a,O:()=>o});var s=n(191313),i=n(407053);let o=()=>(0,s.qn)(i.fo,""),a=e=>{(0,s.Nh)(i.fo,e)}},901551:(e,t,n)=>{n.d(t,{Z:()=>O});var s=n(667294),i=n(616550),o=n(883119),a=n(216167),l=n(3808),r=n(515278),c=n(140017),d=n(741983),u=n(340523),_=n(731714),h=n(494125),p=n(149722),m=n(190149),g=n(226136),f=n(432614),v=n(734513),b=n(228150),y=n(983983),x=n(683882),w=n(214877),A=n(205841),C=n(406893),P=n(5859),S=n(140186),E=n(785893);let k=(e,t,n)=>{let s=70,i=38,o=document.body?document.body.clientWidth:window.innerWidth-15;if(n){let{left:t,right:a,width:l}=n.getBoundingClientRect();e?(s=t-20,i=l/2+20-4):(s=o-a-20,i=20+l/2-4)}return`
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }
  #message-notif-toast{
    position: absolute;
    top: 65px;
    ${e?"left":"right"}: ${s}px;
    animation: ${t?"fadeOut":"none"} 1000ms;
  }
  #message-notif-toast:after {
    content: '';
    position: absolute;
    top: -4px;
    ${e?"left":"right"}: ${i}px;
    width: 8px;
    height: 8px;
    background-color: rgb(17,17,17);
    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    transform: rotate(135deg);
    border-radius: 0 0 0 3px;
  }
  `};function I({conversation:e,anchor:t}){let[n,i]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1),{dropdownOpen:r,conversationOpen:d}=(0,m.Z)(),u=(0,c.ZP)(),{isRTL:p}=(0,P.B)(),{logContextEvent:g}=(0,w.v)();if((0,h.Z)(()=>{let t=e.last_message,n=_.Z.getItem("last_notified_message_id");t&&t.id!==n&&setTimeout(()=>{i(!0),g({event_type:13,component:14993}),_.Z.setItem("last_notified_message_id",t.id),_.Z.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||i(!1)}),setTimeout(()=>{l(!0),setTimeout(()=>{l(!1),i(!1)},800)},5e3)},S.XZ)}),!e.last_message||!n)return null;let{sender:f}=e.last_message,v=f.first_name||f.username||"",b=e.last_message.pin?u._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):u._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),x=(0,E.jsxs)(o.xv,{color:"light",inline:!0,children:[(0,E.jsxs)(o.xv,{color:"light",inline:!0,weight:"bold",children:[v," "]}),b]});return(0,E.jsx)(o.mh,{zIndex:new o.H3([new o.Ry(y.fe)]),children:(0,E.jsx)(o.iP,{onTap:()=>{r(),d(e.id),i(!1),g({event_type:101,component:14993})},children:(0,E.jsxs)(o.xu,{id:"message-notif-toast",children:[(0,E.jsx)(C.Z,{unsafeCSS:k(p,a,t)}),(0,E.jsxs)(o.xu,{alignItems:"center",color:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:"alert",rounding:4,children:[(0,E.jsx)(o.xu,{marginEnd:3,children:(0,E.jsx)(A.qE,{name:v,size:"sm",src:f.image_large_url})}),x]})]})})})}function L(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends s.Component{constructor(...e){super(...e),L(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),L(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(f.S.INBOX),this.updateBrowserTabTitleCount(0)}),L(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:s,openConversationsDropdown:i,onClick:o}=this.props;if(o?.(),t){e&&e.stopEventPropagation(),t();return}n?s():i(),this.clearBadges(),this.onComplete&&this.onComplete()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,d.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),s=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${s}`:s}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:s,idealTooltipDirection:i,defaultIconColor:a,selectedIconColor:l,zIndex:r}=this.props;return(0,E.jsxs)(o.xu,{ref:this.setButtonRef,position:"relative",children:[(0,E.jsx)(o.u,{accessibilityLabel:"",idealDirection:i,text:t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),zIndex:r||new o.H3([new o.Ry(y.fe)]),children:(0,E.jsx)(o.xu,{"data-test-id":"notifications-button",children:(0,E.jsx)(b.Z,{badgeCount:e,defaultColor:a,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n,selectedColor:l,verticalNavCustomSvgBackgroundUrlDefaultState:x.vX.messages.default,verticalNavCustomSvgBackgroundUrlSelectedState:x.vX.messages.selected})})}),s&&(0,E.jsx)(I,{anchor:this.anchor,conversation:s})]})}}function T(e){let t=(0,c.ZP)(),n=(0,r.Z)(),o=(0,i.TH)(),{isAuth:f,isLimitedLogin:b}=(0,p.Z)();(0,h.Z)(()=>{f&&!b&&a.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:y,newsHubCount:x,showConversationsDropdown:w},dropdownClose:A,dropdownOpen:C}=(0,m.Z)(),{checkExperiment:P}=(0,u.F)(),{setInboxButton:k}=(0,v.b)(),I=(0,g.Z)(),L=(0,l.Z)(),T=I.find(e=>e.unread>0),Z=(0,i.k6)(),O=(0,d.C$)(Z.location),R=_.Z.getItem("last_notified_message_timestamp"),z=R&&Date.now()-Number(R)<S.VC,M=O&&!w&&!z&&T&&!L&&P("sg_dweb_app_start_msg_notif").anyEnabled,N=(0,s.useRef)(!0);return(0,s.useEffect)(()=>{N.current||e.onPanelChange?.(w),N.current=!1},[w]),(0,E.jsx)(j,{...e,closeConversationsDropdown:A,conversationsUnseenCount:y,conversationWithUnreadMesage:M?T:null,i18n:t,location:o,newsHubCount:x,openConversationsDropdown:C,requireAuth:n,setInboxButton:k,showPanel:w})}var Z=n(647352);function O({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:s,onClick:i,onPanelChange:o}){return(0,E.jsx)(Z.Z,{icon:"speech-ellipsis",children:({onClearBadges:a})=>(0,E.jsx)(T,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:a,onClick:i,onPanelChange:o,selectedIconColor:n,zIndex:s})})}},647352:(e,t,n)=>{n.d(t,{Z:()=>x});var s,i=n(667294),o=n(883119),a=n(3808),l=n(683882),r=n(167912),c=n(216167),d=n(256683),u=n(757640),_=n(325362),h=n(190149),p=n(432614),m=n(785893);let g=(0,d.Z)(_.Z);class f extends i.Component{constructor(...e){var t,n,s;super(...e),t="handleClearBadges",n=e=>{e===p.S.NEWS_HUB?(c.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let s=g(e.data);n(s.conversationsUnseenCount),t(s.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function v({conversationBadgeCall:e,children:t}){let n=(0,u.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:s,updateUnreadCount:i}=(0,h.Z)();return(0,m.jsx)(f,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:s,updateUnreadCount:i,children:t})}let b=()=>{let e=void 0!==s?s:s=n(395980),[t]=(0,r.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,s)=>{s&&n(s[0]),e(t)},onError:e=>n(e)})})};function y({children:e}){return(0,m.jsx)(v,{conversationBadgeCall:b(),children:e})}function x({icon:e,children:t}){let[n,s]=(0,i.useState)(!1),r=(0,a.Z)();return((0,i.useEffect)(()=>{s(!0)},[]),n)?(0,m.jsx)(y,{children:t}):(0,m.jsx)(o.xu,{paddingX:1,children:(0,m.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:r?(0,m.jsx)(l.dK,{svgBackgroundImageUrl:"speech-ellipsis"===e?l.vX.messages.default:l.vX.notifications.default}):(0,m.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},140186:(e,t,n)=>{n.d(t,{VC:()=>v,XZ:()=>f,ZP:()=>b});var s=n(616550),i=n(883119),o=n(216167),a=n(205841),l=n(454514),r=n(140017),c=n(741983),d=n(340523),u=n(731714),_=n(13848),h=n(554786),p=n(494125),m=n(149722),g=n(785893);let f=2e3,v=864e5;function b(){let e=(0,r.ZP)(),{isAuth:t,isLimitedLogin:n}=(0,m.Z)(),{checkExperiment:b}=(0,d.F)(),{showToast:y}=(0,_.F9)(),x=(0,s.k6)(),w=(0,c.C$)(x.location),A=(0,h.HG)();return(0,p.Z)(()=>{let s=async()=>{let t=o.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),s=u.Z.getItem("last_notified_message_timestamp"),r=s&&Date.now()-Number(s)<v,c=n&&w&&!r&&b("sg_mweb_app_start_msg_notif").anyEnabled&&n.last_message,d=u.Z.getItem("last_notified_message_id");if(c&&c.id!==d){u.Z.setItem("last_notified_message_id",c.id),u.Z.setItem("last_notified_message_timestamp",Date.now());let{sender:t}=c,s=t.first_name||t.username||"",o=c.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),r=(0,g.jsxs)(i.xv,{inline:!0,children:[(0,g.jsxs)(i.xv,{inline:!0,weight:"bold",children:[s," "]}),o]});setTimeout(()=>{y(({hideToast:i})=>(0,g.jsx)(l.ZP,{duration:5e3,onHide:i,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:()=>{x.push(`/conversation/${n.id}`),i()}},text:r,thumbnail:{avatar:(0,g.jsx)(a.qE,{name:s,size:"sm",src:t.image_large_url})}}))},f)}};!t||n||A||s()}),null}},89511:(e,t,n)=>{n.d(t,{Z:()=>s});function s({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}},728277:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(616550),i=n(757640);function o(){let{username:e}=(0,s.UO)();return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},89190:(e,t,n)=>{n.d(t,{K:()=>i,e:()=>s});let s=100,i=28},249170:(e,t,n)=>{n.d(t,{Z:()=>s});let s=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){n=t}return n}},67661:(e,t,n)=>{n.d(t,{Z4:()=>c,ZP:()=>d,t_:()=>l});var s=n(224796),i=n(731714),o=n(791486),a=n(89190);let l=()=>{let e=i.Z.getItem(s.pm);return null!==e?JSON.stringify(e):""},r=()=>i.Z.getItem(s.pm)||[],c=(e,t)=>{let n=[...r()],l=n.length,c=l?n[0].path:"";if(l>=a.e&&n.pop(),!l||e!==c){let a=(0,o.Z)({path:e,pageType:t});i.Z.setItem(s.pm,[a].concat(n))}},d=r},454051:(e,t,n)=>{function s(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function i(e){return s("/admin/",e)}function o(e){return s("/admin/oauth/logout/",e)}function a(e){return s("/today/",e)}n.d(t,{HF:()=>i,Kn:()=>o,tG:()=>a})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50552-044c762b8daeaf79.mjs.map