"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[91228],{776569:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(667294),n=o(883119),r=o(693323),s=o(55202),a=o(983983),l=o(785893);function c(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{visible:!1}),c(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),c(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,r.Z)({window,duration:1/0,run:(e,o,i)=>{window.scrollTo(0,window.scrollY+(o<500?.8:1.2000000000000002)*t*i)}}),this.scrollAnimationManager.start()}}),c(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:o}=this.state;return(0,l.jsx)(n.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){let t=e?0:a.hu;return(0,l.jsx)(s.Z,{children:(0,l.jsx)(n.mh,{children:(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(d,{height:120+t,placement:"top"}),(0,l.jsx)(d,{height:120,placement:"bottom"})]})})})}},718545:(e,t,o)=>{o.d(t,{Z:()=>c,y:()=>a});var i=o(667294),n=o(60598),r=o(14890),s=o(785893);let a={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};class l extends i.Component{render(){let{children:e,connectDragSource:t,connectDropTarget:o,isDragging:i,isDraggingInternal:n,isDropTargetOnly:r}=this.props,a=o((0,s.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||n?0:1},children:e}));return r?a:t(a)}}let c=(0,r.compose)((0,n.GR)(e=>e.type,{hover:({index:e,onDragHover:t},o,i)=>{t(e,function(e,t){let o=t.targetEl;if(!(o&&o instanceof HTMLElement))return null;let{x:i,y:n}=e.getClientOffset(),{left:r,right:s,top:a,bottom:l,width:c,height:d}=o.getBoundingClientRect();return{positionRelativeToCenter:{x:i-(r+s)/2,y:n-(a+l)/2},boundingBox:{width:c,height:d}}}(o,i))}},e=>({connectDropTarget:e.dropTarget()})),(0,n.Ej)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(l)},853703:(e,t,o)=>{function i(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function n({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:o}){return Math.abs(e)<(o?.5*t:0)/2?"center":e<0?"left":"right"}function r({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:o}){if("center"===t||e===o)return e;let i="left"===t;return e<o===i?e:i?e-1:e+1}o.d(t,{Lz:()=>i,TI:()=>n,X3:()=>r})},507584:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(60598),n=o(14890),r=o(187958);let s=e=>t=>(0,n.compose)(r.Z,(0,i.GR)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},726528:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(401429),n=o(667294),r=o(883119),s=o(76561),a=o(785893);let l=new r.Ry(669),c={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:o,displayData:i,idealDirection:d,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:_=!0,touchToDismiss:p=!0,useMasonryFlyout:f=!1})=>{let{anchors_by_platform:m={},button_text:b,button_uri:g,display_type:v,flyout_direction:y,scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:P=0,text:w}=i||{},T=m[h]?.anchor,A=e[T],j=(0,n.useCallback)(()=>{x&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j)),p&&A&&A.removeEventListener("click",j),setTimeout(()=>o(),1e3*P)},[A]);if((0,n.useEffect)(()=>{A&&(x&&(window.addEventListener("scroll",j),window.addEventListener("touchmove",j)),p&&A.addEventListener("click",j))},[A]),!A)return null;let D=({children:e})=>{if(f)return(0,a.jsx)(r.mh,{zIndex:l,children:e});if(2!==v)return(0,a.jsx)(r.xu,{zIndex:l,children:e});{let t={};if(_)t.top=A.offsetTop,t.left=A.offsetLeft,t.width=A.offsetWidth,t.height=A.offsetHeight;else{let e=A.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:t},left:!0,position:"absolute",top:!0,zIndex:l,children:e})}},E=c[y],O=g&&(g.startsWith("https://")||g.startsWith("http://")),S=(u||{})[T],z=()=>{x&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j)),p&&A.removeEventListener("click",j),t()};return(0,a.jsxs)(n.Fragment,{children:[2===v&&(0,a.jsx)(D,{children:(0,a.jsx)(s.Z,{anchor:A,onTouch:()=>{z(),S?S():A instanceof HTMLElement&&A.click()},zIndex:670})}),1===v&&(0,a.jsx)(D,{children:(0,a.jsx)(r.Li,{anchor:A,idealDirection:E||d||"down",onDismiss:j,shouldFocus:!1,size:"sm",children:(0,a.jsxs)(r.xu,{padding:4,width:"220px",children:[(0,a.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:w}),b?(0,a.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,a.jsx)(r.xu,{column:8,children:g?(0,a.jsx)(r.ZP,{color:"white",fullWidth:!0,href:g,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),z()},size:"md",target:O?"blank":null,text:b}):(0,a.jsx)(r.zx,{color:"white",fullWidth:!0,onClick:z,size:"md",text:b})})}):null]})})})]})};var u=o(554786);let h=({anchors:e,idealDirection:t,onCompleteByAnchor:o,placementId:n,positionRelativeToAnchor:r,touchToDismiss:s,useMasonryFlyout:l})=>{let c=(0,u.ml)();return(0,a.jsx)(i.Z,{placementId:n,predicate:t=>{let{display_data:o}=t;if(o?.component_type===2){let{anchors_by_platform:t}=o;if(t?.web){let{anchor:o,placement:i}=t.web;return i===n&&o in e}}return!1},children:({complete:i,dismiss:n,experience:u})=>(0,a.jsx)(d,{anchors:e,complete:i,dismiss:n,displayData:u.display_data,idealDirection:t,onCompleteByAnchor:o,platform:c?"web_mobile":"web",positionRelativeToAnchor:r,touchToDismiss:s,useMasonryFlyout:l})})}},466385:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e,t,o){let i=[...e],n=i.splice(t,1)[0];return i.splice(o,0,n),i}},489093:(e,t,o)=>{o.d(t,{a:()=>h,S:()=>d});var i=o(667294),n=o(342513),r=o(372085);let s={boardMap:{}};function a(e=s,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:o,blockingActions:i}}=t,n=null,r=null,s={};return i.forEach(({section_id:e,progress:t,id:o,created_timestamp:i})=>{let a={id:o,createdAt:i,progress:t};e?"-1"===e?n=a:s[e]=a:r=a}),{...e,boardMap:{...e.boardMap,[o]:{wholeBoard:n,unorganized:r,sectionMap:s}}}}return e}var l=o(785893);let{Provider:c,useMaybeHook:d}=(0,n.Z)("BlockingAction");async function u(e){let t=await (0,r.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,o)=>{let i=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!i){o(Error("No blocking actions found in the response"));return}e(i)})}function h({children:e}){let[t,o]=(0,i.useReducer)(a,s),n=(0,i.useCallback)(e=>u(e).then(t=>(o({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),r=(0,i.useMemo)(()=>({blockingActions:t,fetchBlockingActions:n}),[t,n]);return(0,l.jsx)(c,{value:r,children:e})}},828763:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(13848),n=o(489093),r=o(667294),s=o(883119),a=o(454514),l=o(140017),c=o(554786),d=o(785893);function u(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends r.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,a.Vg)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:o}}=this.props,i="completed"===t;switch(e){case"create_section":return i?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(o)return i?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return i?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(o)return i?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return i?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(o)return i?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return i?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:o}=this.props,{visible:i,hiding:n}=this.state,{firstLine:r}=this,{marginTop:l,opacity:c,position:u,pointerEvents:h,transform:_,transition:p,visibility:f}=(0,a.UZ)({deviceType:t,hiding:n,visible:i});if(!r)return null;let m="inProgress"===e?`${o.name}...`:o.name;return(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transform:_,transition:p,visibility:f,pointerEvents:h}},marginTop:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:c,position:u,children:(0,d.jsx)(s.FN,{text:`${r}: ${m}`,type:"completed"===e?"default":"progress"})})}}function _(e){let t=(0,c.ZP)(),o=(0,l.ZP)();return(0,d.jsx)(h,{...e,deviceType:t,i18n:o})}let p=["merge","move_pins","create_section"],f=0,m={},b=(e,t,o,i)=>({hideToast:n})=>(0,d.jsx)(_,{actionStatus:e,actionType:t,duration:2e3,location:{name:i?i.title??"":o.name??"",isSection:!!i},onHide:n});function g(){let{showToast:e}=(0,i.F9)(),{fetchBlockingActions:t}=(0,n.S)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:o,board:i,section:n})=>{e(b("inProgress",o,i,n)),function({check:e,checkDelay:t,checkInterval:o,onComplete:i}){let n=`timeout${f}`;f+=1;let r=()=>{let t=Date.now();e().then(e=>{let s=Date.now()-t;e?(i(),delete m[n]):m[n]=setTimeout(r,Math.max(1e3,o-s))}).catch(()=>{delete m[n]})};m[n]=setTimeout(r,t)}({check:()=>t(i.id).then(e=>!function({blockingActions:e,actionType:t,boardId:o,sectionId:i}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(p.includes(e.action_type)&&e.is_origin)&&e.board_id===o&&(i?i===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:o,boardId:i.id,sectionId:n&&n.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(b("completed",o,i,n))})}}}},623501:(e,t,o)=>{o.d(t,{HW:()=>s,YW:()=>u,i3:()=>h,o2:()=>d});var i=o(667294),n=o(342513),r=o(785893);let s=660,a={educationId:null,paddingRight:0,zIndex:660};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=t.payload;return{...e,zIndex:n};default:return e}}let{Provider:c,Consumer:d,useHook:u}=(0,n.Z)("footerContext");function h({children:e}){let[t,o]=(0,i.useReducer)(l,a),n=(0,i.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),s=(0,i.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),d=(0,i.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,i.useMemo)(()=>({...t,setEducationId:s,setPaddingRight:n,setZIndex:d}),[t,s,n,d]);return(0,r.jsx)(c,{value:u,children:e})}},895581:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(227258);function n(e,t,o){return(0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t,...o?{orbac_subject_id:o}:{}}})}},836244:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(372085),n=o(895581),r=o(821419),s=o(64819),a=o(937310);function l(e,t,o){return l=>(0,i.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:o?{orbac_subject_id:o}:{}}).then(()=>Promise.all([l((0,r.eo)({boardId:e})),l((0,n.Z)(t,"pin_count")),l((0,s.N8)(a.Z.BOARD_SECTIONS,t))]))}},204942:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(383997);function n(e,t,o){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},601413:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(204942);function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){(0,i.Z)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}},383997:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(671002);function n(e){var t=function(e,t){if("object"!=(0,i.Z)(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=(0,i.Z)(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.Z)(t)?t:t+""}},671002:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/91228-c46769cdadf479da.mjs.map